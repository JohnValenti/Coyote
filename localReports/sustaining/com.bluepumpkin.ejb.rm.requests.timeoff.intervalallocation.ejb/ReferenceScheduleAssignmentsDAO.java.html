<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>ReferenceScheduleAssignmentsDAO.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">QA Code Coverage</a> &gt; <a href="index.source.html" class="el_package">com.bluepumpkin.ejb.rm.requests.timeoff.intervalallocation.ejb</a> &gt; <span class="el_source">ReferenceScheduleAssignmentsDAO.java</span></div><h1>ReferenceScheduleAssignmentsDAO.java</h1><pre class="source lang-java linenums">package com.bluepumpkin.ejb.rm.requests.timeoff.intervalallocation.ejb;

import java.util.ArrayList;
import java.util.Collection;
import java.util.Collections;
import java.util.Date;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
import java.util.TimeZone;

import com.bluepumpkin.common.datatypes.ID;
import com.bluepumpkin.common.jdmo.Jdmo;
import com.bluepumpkin.common.jdmo.JdmoException;
import com.bluepumpkin.common.jdmo.JdmoQuery;
import com.bluepumpkin.common.jdmo.JdmoRowset;
import com.bluepumpkin.common.jdmo.JdmoUtil;
import com.bluepumpkin.common.util.TimeZoneUtil;
import com.bluepumpkin.ejb.bbm.base.BbmFinderException;
import com.bluepumpkin.ejb.bbm.schedule.model.ShiftAssignment;
import com.bluepumpkin.ejb.bbm.schedule.model.ShiftEventAssignment;
import com.bluepumpkin.ejb.bbm.schedule.util.ScheduleUtil;
import com.bluepumpkin.ejb.rm.util.DAOUtil;
import com.bluepumpkin.ejb.rm.util.JdmoBatchExecute;

/*
 * This class contains the database access code for back end time off calculation related to reference schedules
 * The setup  database access code is in  com.bluepumpkin.ejb.rm.setup.calendartimeoff.ejb.EmployeeReferenceScheduleAssignmentDAO
 */
public class ReferenceScheduleAssignmentsDAO {

<span class="fc" id="L32">	private Jdmo dmo = null;</span>

<span class="fc" id="L34">	public ReferenceScheduleAssignmentsDAO() {</span>
<span class="fc" id="L35">		dmo = new Jdmo(false);</span>
<span class="fc" id="L36">	}</span>

	public void cleanUp() {
<span class="pc bpc" id="L39" title="1 of 2 branches missed.">		if (dmo != null) {</span>
<span class="fc" id="L40">			dmo.cleanUp();</span>
<span class="fc" id="L41">			dmo = null;</span>
		}
<span class="fc" id="L43">	}</span>

	/**
	 * @return A list of time off request choice IDs that would be affected by a change in the employee's reference schedule on the 
	 * &quot;As Of&quot; date. This is the list of time off request choices that start in the effective date block for the employee's reference 
	 * schedule on the &quot;As Of&quot; date
	 */
	public List&lt;ID&gt; getAffectedRequestChoices(Collection&lt;ID&gt; employeeIDs, Date asOfDate) throws BbmFinderException {

<span class="nc bnc" id="L52" title="All 4 branches missed.">		if (employeeIDs == null || employeeIDs.isEmpty()) {</span>
<span class="nc" id="L53">			return Collections.emptyList();</span>
		}

		//@formatter:off
<span class="nc" id="L57">		String sql =&quot;select TRC.ID &quot; </span>
		+ &quot; from WORKRESOURCEREFSCHEDULE RefSch  &quot;
		+ &quot; inner join REQUEST R on R.EMPLOYEEID = RefSch.WORKRESOURCEID &quot;
		+ &quot; inner join TIMEOFFREQUESTCHOICE TRC on TRC.TIMEOFFREQUESTID = R.ID &quot;
		+ &quot; where TRC.STARTTIME &gt;= RefSch.STARTTIME and TRC.STARTTIME &lt; isNull(RefSch.ENDTIME,'20700101') &quot;
		+ &quot; and '%s' &gt;= RefSch.STARTTIME and '%s' &lt; isNull(RefSch.ENDTIME,'20700101') and RefSch.WORKRESOURCEID in %s&quot;;
		//@formatter:on

		try {
<span class="nc" id="L66">			String asOfDateSql = JdmoUtil.formatDBString(asOfDate);</span>
<span class="nc" id="L67">			sql = String.format(sql, asOfDateSql, asOfDateSql, dmo.createInClause(employeeIDs));</span>

<span class="nc" id="L69">			JdmoRowset res = dmo.createRowset(sql);</span>
<span class="nc" id="L70">			List&lt;ID&gt; result = new ArrayList&lt;ID&gt;();</span>
<span class="nc bnc" id="L71" title="All 2 branches missed.">			while (res.next()) {</span>
<span class="nc" id="L72">				ID choiceID = res.getID(&quot;ID&quot;);</span>
<span class="nc" id="L73">				result.add(choiceID);</span>
<span class="nc" id="L74">			}</span>
<span class="nc" id="L75">			return result;</span>
<span class="nc" id="L76">		} catch (JdmoException e) {</span>
<span class="nc" id="L77">			throw new BbmFinderException(e);</span>
		}
	}

	/**
	 * 
	 * @param employeeDates A collection of (Employee id, As of date) pairs for which to find the reference schedule period id
	 * @return
	 * A map from (Employee Id, As of Date) to the reference schedule period DEID
	 */
	public Map&lt;EmployeeDate, ID&gt; getReferenceScheduleSPDEID(Collection&lt;EmployeeDate&gt; employeeDates) throws JdmoException {
<span class="nc bnc" id="L88" title="All 4 branches missed.">		if (employeeDates == null || employeeDates.isEmpty()) {</span>
<span class="nc" id="L89">			return Collections.emptyMap();</span>
		}

<span class="nc" id="L92">		Map&lt;EmployeeDate, ID&gt; result = new HashMap&lt;EmployeeDate, ID&gt;();</span>
		//@formatter:off
<span class="nc" id="L94">		String sql = &quot;select EmpDates.EmployeeID,EmpDates.asOfDate, RSCH.SPID &quot; +</span>
							&quot;from  WORKRESOURCEREFSCHEDULE RSCH  &quot; + 
							&quot;inner join #EmployeeDates EmpDates on EmpDates.employeeID = RSCH.WORKRESOURCEID and  &quot;+
							&quot;EmpDates.asOfDate  &gt;= RSCH.STARTTIME and  EmpDates.asOfDate &lt;  isNull(RSCH.ENDTIME,'20700101')&quot;;
		//@formatter:on

<span class="nc" id="L100">		insertIntoTempEmployeeDate(employeeDates);</span>

<span class="nc" id="L102">		JdmoRowset res = dmo.createRowset(sql);</span>
<span class="nc bnc" id="L103" title="All 2 branches missed.">		while (res.next()) {</span>
<span class="nc" id="L104">			int employeeID = res.getInt(&quot;EmployeeID&quot;);</span>
<span class="nc" id="L105">			Date asOfDate = TimeZoneUtil.toDate(res.getTimestamp(&quot;asOfDate&quot;));</span>
<span class="nc" id="L106">			ID spDEID = res.getID(&quot;SPID&quot;);</span>
<span class="nc" id="L107">			EmployeeDate key = new EmployeeDate(employeeID, asOfDate);</span>
<span class="nc" id="L108">			result.put(key, spDEID);</span>
<span class="nc" id="L109">		}</span>
<span class="nc" id="L110">		return result;</span>
	}

	public List&lt;EmployeeSPTimeZone&gt; getReferenceScheduleTimeZones(Collection&lt;EmployeeDate&gt; employeeDates) throws JdmoException {

<span class="fc" id="L115">		List&lt;EmployeeSPTimeZone&gt; result = new ArrayList&lt;EmployeeSPTimeZone&gt;();</span>

<span class="fc" id="L117">		insertIntoTempEmployeeDate(employeeDates);</span>

		//@formatter:off
<span class="fc" id="L120">		String sql = &quot;select EmpDates.EmployeeID, SP.SID,TIMEZONEMAP.JAVATZIDENT,WRO.ORGANIZATIONID,EmpDates.asOfDate &quot; +</span>
					&quot;from  WORKRESOURCEREFSCHEDULE RSCH  &quot; + 
					&quot;inner join SP on SP.ID = RSCH.SPID  &quot; + 
					&quot;inner join CAMPAIGN C on SP.CAMPAIGNID = C.ID &quot; +
					&quot;inner join TIMEZONE on TIMEZONE.ID = C.TIMEZONEID &quot;+
					&quot;inner join TIMEZONEMAP on TIMEZONEMAP.WINTZSTDNAME = TIMEZONE.STANDARDNAME &quot;+ 
					&quot;inner join #EmployeeDates EmpDates on EmpDates.employeeID = RSCH.WORKRESOURCEID and  &quot;+
					&quot;     EmpDates.asOfDate  &gt;= RSCH.STARTTIME and  EmpDates.asOfDate &lt;  isNull(RSCH.ENDTIME,'20700101') &quot;+
					&quot;inner join WORKRESOURCEORGANIZATION WRO on WRO.WORKRESOURCEID = EmpDates.EmployeeID and &quot;+
					&quot;     EmpDates.asOfDate  &gt;= WRO.STARTTIME and  EmpDates.asOfDate &lt;  isNull(WRO.ENDTIME,'20700101')&quot;;
		//@formatter:on

<span class="fc" id="L132">		JdmoRowset res = dmo.createRowset(sql);</span>
<span class="pc bpc" id="L133" title="1 of 2 branches missed.">		while (res.next()) {</span>
<span class="nc" id="L134">			int employeeID = res.getInt(&quot;EmployeeID&quot;);</span>
<span class="nc" id="L135">			int spID = res.getInt(&quot;SID&quot;);</span>
<span class="nc" id="L136">			String timezone = res.getString(&quot;JAVATZIDENT&quot;);</span>
<span class="nc" id="L137">			int orgID = res.getInt(&quot;ORGANIZATIONID&quot;);</span>
<span class="nc" id="L138">			Date asOfDate = TimeZoneUtil.toDate(res.getTimestamp(&quot;asOfDate&quot;));</span>
<span class="nc" id="L139">			EmployeeSPTimeZone spTimeZone = new EmployeeSPTimeZone(employeeID, spID, timezone, orgID, asOfDate);</span>
<span class="nc" id="L140">			result.add(spTimeZone);</span>
<span class="nc" id="L141">		}</span>

<span class="fc" id="L143">		return result;</span>
	}

	private void insertIntoTempEmployeeDate(Collection&lt;EmployeeDate&gt; employeeDates) throws JdmoException {
<span class="fc" id="L147">		DAOUtil.createTempTable(dmo, &quot;EmployeeDates&quot;, &quot;employeeId int, asOfDate datetime&quot;);</span>

<span class="fc" id="L149">		JdmoBatchExecute&lt;EmployeeDate&gt; batchExecute = new JdmoBatchExecute&lt;EmployeeDate&gt;(dmo) {</span>
			@Override
			public void set(Map&lt;Integer, Object&gt; param, EmployeeDate value) {
<span class="fc" id="L152">				param.put(1, value.employeeID);</span>
<span class="fc" id="L153">				param.put(2, value.date);</span>
<span class="fc" id="L154">			}</span>
		};

<span class="fc" id="L157">		batchExecute.executeBatch(&quot;insert into #EmployeeDates values (?,?)&quot;, employeeDates);</span>
<span class="fc" id="L158">	}</span>

	private void insertIntoTempEmployeeSpID(Collection&lt;EmployeeSpID&gt; employeeDates) throws JdmoException {
<span class="fc" id="L161">		DAOUtil.createTempTable(dmo, &quot;EmployeeSpID&quot;, &quot;employeeID int, spID int&quot;);</span>

<span class="fc" id="L163">		JdmoBatchExecute&lt;EmployeeSpID&gt; batchExecute = new JdmoBatchExecute&lt;EmployeeSpID&gt;(dmo) {</span>
			@Override
			public void set(Map&lt;Integer, Object&gt; param, EmployeeSpID value) {
<span class="nc" id="L166">				param.put(1, value.employeeID);</span>
<span class="nc" id="L167">				param.put(2, value.spID);</span>
<span class="nc" id="L168">			}</span>
		};

<span class="fc" id="L171">		batchExecute.executeBatch(&quot;insert into #EmployeeSpID values (?,?)&quot;, employeeDates);</span>
<span class="fc" id="L172">	}</span>

	public ReferenceScheduleAssignments getReferenceScheduleAssignmentForChoice(ID timeOffChoiceID) throws BbmFinderException {
		//@formatter:off
<span class="nc" id="L176">		String sql = &quot;select O.TIMEZONE as EmpTZ,  SPTZM.JAVATZIDENT as SpTZ, SAP.* &quot; </span>
				+ &quot;from TIMEOFFREQUESTCHOICE TOC &quot;
				+ &quot;inner join REQUEST R on TOC.TIMEOFFREQUESTID = R.ID &quot; 
				+ &quot;inner join SP on SP.SID = TOC.REFERENCESPID &quot;
				+ &quot;inner join CAMPAIGN C on C.ID = SP.CAMPAIGNID &quot;
				+ &quot;inner join TimeZone SPTZ on  SPTZ.ID = C.TIMEZONEID &quot;
				+ &quot;inner join TIMEZONEMAP SPTZM  on SPTZM.WINTZSTDNAME = SPTZ.STANDARDNAME &quot;
				+ &quot;inner join SHIFTASSIGNMENTPUB SAP on SAP.WORKRESOURCEID = R.EMPLOYEEID and SAP.SPID = TOC.REFERENCESPID &quot; 
				+ &quot;inner join WORKRESOURCEORGANIZATION EMPORG on EMPORG.WORKRESOURCEID = R.EMPLOYEEID  &quot;
				+  &quot;   and TOC.STARTTIME &gt;= EMPORG.STARTTIME and  TOC.STARTTIME &lt; isnull(EMPORG.ENDTIME,'20700101') &quot; 
				+ &quot;inner join ORGANIZATION O on O.ID = EMPORG.ORGANIZATIONID &quot;
				+ &quot;where TOC.ID = ?  &quot;; 

		//@formatter:on

		try {
<span class="nc" id="L192">			JdmoQuery query = dmo.createQuery(sql, Jdmo.PARAM_QUERY);</span>
<span class="nc" id="L193">			query.setParID(1, timeOffChoiceID);</span>

<span class="nc" id="L195">			JdmoRowset rs = dmo.createRowset(query, Jdmo.FORWARD_ONLY, Jdmo.READ_ONLY);</span>
<span class="nc" id="L196">			TimeZone empTZ = null;</span>
<span class="nc" id="L197">			TimeZone spTZ = null;</span>

<span class="nc" id="L199">			List&lt;ShiftAssignment&gt; shifts = new ArrayList&lt;ShiftAssignment&gt;();</span>

<span class="nc bnc" id="L201" title="All 2 branches missed.">			while (rs.next()) {</span>

<span class="nc bnc" id="L203" title="All 2 branches missed.">				if (empTZ == null) {</span>
<span class="nc" id="L204">					empTZ = TimeZone.getTimeZone(rs.getString(&quot;EmpTZ&quot;));</span>
<span class="nc" id="L205">					spTZ = TimeZone.getTimeZone(rs.getString(&quot;SpTZ&quot;));</span>
				}
<span class="nc" id="L207">				ShiftAssignment shift = getShiftAssignment(rs);</span>
<span class="nc" id="L208">				shifts.add(shift);</span>
<span class="nc" id="L209">			}</span>

<span class="nc" id="L211">			return new ReferenceScheduleAssignments(shifts, spTZ, empTZ);</span>

<span class="nc" id="L213">		} catch (JdmoException e) {</span>
<span class="nc" id="L214">			throw new BbmFinderException(e);</span>
		}

	}
	

	/**
	 * @return ShiftAssignments (along with ShiftEventAssignment) from the specified employee's reference schedule grouped by employee id.  
	 * @throws JdmoException 
	 * @throws BbmFinderException 
	 */
	public Map&lt;EmployeeSpID, List&lt;ShiftAssignment&gt;&gt; getReferenceScheduleAssignments(Collection&lt;EmployeeSpID&gt; employeeSpIDs) throws BbmFinderException {

<span class="fc" id="L227">		String sqlAssignments = &quot;select A.* from %s A inner join #EmployeeSpID EmpSP on EmpSP.SPID = A.SPID and EmpSP.employeeID = A.WORKRESOURCEID&quot;;</span>


		try {
<span class="fc" id="L231">			insertIntoTempEmployeeSpID(employeeSpIDs);</span>


			//get published shift events
<span class="fc" id="L235">			String sql = String.format(sqlAssignments, &quot;shifteventassignmentpub&quot;);</span>
<span class="fc" id="L236">			List&lt;ShiftEventAssignment&gt; shiftEvents = getShiftEvents(sql);</span>

			//get published shifts
<span class="fc" id="L239">			sql = String.format(sqlAssignments, &quot;shiftassignmentpub&quot;);</span>
<span class="fc" id="L240">			List&lt;ShiftAssignment&gt; shifts = getShifts(sql);</span>

			//associate the shift events with the shifts 
<span class="fc" id="L243">			ScheduleUtil.buildShiftAssignment(shifts, shiftEvents);</span>

<span class="fc" id="L245">			return buildMap(shifts);</span>

<span class="nc" id="L247">		} catch (JdmoException e) {</span>
<span class="nc" id="L248">			throw new BbmFinderException(e);</span>
		}
	}
	
	private static Map&lt;EmployeeSpID, List&lt;ShiftAssignment&gt;&gt; buildMap(List&lt;ShiftAssignment&gt; shifts) {

<span class="fc" id="L254">		Map&lt;EmployeeSpID, List&lt;ShiftAssignment&gt;&gt; map = new HashMap&lt;EmployeeSpID, List&lt;ShiftAssignment&gt;&gt;(shifts.size());</span>
<span class="pc bpc" id="L255" title="1 of 2 branches missed.">		for(ShiftAssignment shift: shifts ) {</span>
<span class="nc" id="L256">			int employeeID = shift.getWorkResourceID().toInt();</span>
<span class="nc" id="L257">			int spID = shift.getCampaignID().toInt();</span>
<span class="nc" id="L258">			EmployeeSpID key = new EmployeeSpID(employeeID, spID);</span>
<span class="nc" id="L259">			List&lt;ShiftAssignment&gt; value = map.get(key);</span>
<span class="nc bnc" id="L260" title="All 2 branches missed.">			if (value == null) {</span>
<span class="nc" id="L261">				value = new ArrayList&lt;ShiftAssignment&gt;();</span>
<span class="nc" id="L262">				map.put(key, value);</span>
			}
<span class="nc" id="L264">			value.add(shift);</span>
<span class="nc" id="L265">		}</span>
<span class="fc" id="L266">		return map;</span>
	}



	private List&lt;ShiftEventAssignment&gt; getShiftEvents(String sql) throws JdmoException {
<span class="fc" id="L272">		JdmoRowset res = dmo.createRowset(sql);</span>

<span class="fc" id="L274">		List&lt;ShiftEventAssignment&gt; events = new ArrayList&lt;ShiftEventAssignment&gt;();</span>

<span class="pc bpc" id="L276" title="1 of 2 branches missed.">		while (res.next()) {</span>
<span class="nc" id="L277">			ShiftEventAssignment event = new ShiftEventAssignment();</span>

<span class="nc" id="L279">			event.setID(res.getID(&quot;ID&quot;));</span>
<span class="nc" id="L280">			event.setStartTime(TimeZoneUtil.toDate(res.getTimestamp(&quot;STARTTIME&quot;)));</span>
<span class="nc" id="L281">			event.setDuration(res.getInt(&quot;DURATION&quot;));</span>
<span class="nc" id="L282">			event.setLocked(res.getBoolean(&quot;ISLOCKED&quot;));</span>
<span class="nc" id="L283">			event.setPaid(res.getBoolean(&quot;ISPAID&quot;));</span>
<span class="nc" id="L284">			event.setActivityID(res.getID(&quot;ACTIVITYID&quot;));</span>
<span class="nc" id="L285">			event.setShiftEventID(res.getID(&quot;SHIFTEVENTID&quot;));</span>
<span class="nc" id="L286">			event.setParentID(res.getID(&quot;SHIFTASSIGNMENTID&quot;));</span>
<span class="nc" id="L287">			event.addWorkResourceID(res.getID(&quot;WORKRESOURCEID&quot;));</span>
<span class="nc" id="L288">			event.setOverlayPrecedence(res.getInt(&quot;PRECEDENCE&quot;));</span>
<span class="nc" id="L289">			event.setOverTimeGapType(res.getShort(&quot;OVERTIMEGAPTYPE&quot;));</span>
<span class="nc" id="L290">			event.setSPID(res.getID(&quot;SPID&quot;));</span>
<span class="nc" id="L291">			events.add(event);</span>
<span class="nc" id="L292">		}</span>

<span class="fc" id="L294">		return events;</span>
	}

	private List&lt;ShiftAssignment&gt; getShifts(String sql) throws JdmoException {
<span class="fc" id="L298">		JdmoRowset res = dmo.createRowset(sql);</span>
<span class="fc" id="L299">		return getShifts(res);</span>
	}

	private List&lt;ShiftAssignment&gt; getShifts(JdmoRowset res) throws JdmoException {

<span class="fc" id="L304">		List&lt;ShiftAssignment&gt; shifts = new ArrayList&lt;ShiftAssignment&gt;();</span>

<span class="pc bpc" id="L306" title="1 of 2 branches missed.">		while (res.next()) {</span>
<span class="nc" id="L307">			ShiftAssignment shift = getShiftAssignment(res);</span>
<span class="nc" id="L308">			shifts.add(shift);</span>
<span class="nc" id="L309">		}</span>

<span class="fc" id="L311">		return shifts;</span>
	}

	private static ShiftAssignment getShiftAssignment(JdmoRowset res) throws JdmoException {
<span class="nc" id="L315">		ShiftAssignment shift = new ShiftAssignment();</span>

<span class="nc" id="L317">		shift.setID(res.getID(&quot;ID&quot;));</span>
<span class="nc" id="L318">		shift.setStartTime(TimeZoneUtil.toDate(res.getTimestamp(&quot;STARTTIME&quot;)));</span>
<span class="nc" id="L319">		shift.setDuration(res.getInt(&quot;DURATION&quot;));</span>
<span class="nc" id="L320">		shift.setLocked(res.getBoolean(&quot;ISLOCKED&quot;));</span>
<span class="nc" id="L321">		shift.setActivityID(res.getID(&quot;ACTIVITYID&quot;));</span>
<span class="nc" id="L322">		shift.setShiftID(res.getID(&quot;SHIFTID&quot;));</span>
<span class="nc" id="L323">		shift.addWorkResourceID(res.getID(&quot;WORKRESOURCEID&quot;));</span>
<span class="nc" id="L324">		shift.setCampaignID(res.getID(&quot;SPID&quot;));</span>
<span class="nc" id="L325">		shift.setOverlayPrecedence(res.getInt(&quot;PRECEDENCE&quot;));</span>
<span class="nc" id="L326">		shift.setWorkPatternID(res.getID(&quot;SHIFTPATTERNID&quot;));</span>
<span class="nc" id="L327">		shift.setExtensionBefore(res.getInt(&quot;EXTENSIONBEFORE&quot;));</span>
<span class="nc" id="L328">		shift.setExtensionAfter(res.getInt(&quot;EXTENSIONAFTER&quot;));</span>

<span class="nc" id="L330">		shift.setOTExtensionBeforeID(res.getID(&quot;SHIFTOTEXTBEFOREID&quot;));</span>
<span class="nc" id="L331">		shift.setOTExtensionAfterID(res.getID(&quot;SHIFTOTEXTAFTERID&quot;));</span>
<span class="nc" id="L332">		shift.setOTExtensionBeforeActivityID(res.getID(&quot;OTEXTBEFOREACTIVITYID&quot;));</span>
<span class="nc" id="L333">		shift.setOTExtensionAfterActivityID(res.getID(&quot;OTEXTAFTERACTIVITYID&quot;));</span>
<span class="nc" id="L334">		return shift;</span>
	}

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.5.201505241946</span></div></body></html>