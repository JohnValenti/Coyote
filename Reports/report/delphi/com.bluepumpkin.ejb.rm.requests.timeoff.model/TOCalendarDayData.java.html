<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>TOCalendarDayData.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">QA Code Coverage</a> &gt; <a href="index.source.html" class="el_package">com.bluepumpkin.ejb.rm.requests.timeoff.model</a> &gt; <span class="el_source">TOCalendarDayData.java</span></div><h1>TOCalendarDayData.java</h1><pre class="source lang-java linenums">/*
 * TOCalendarDayData.java
 * Copyright (c) 2002, Blue Pumpkin Software, Inc
 * All rights reserved.
 */
package com.bluepumpkin.ejb.rm.requests.timeoff.model;

import java.io.Serializable;
import java.util.Calendar;
import java.util.Date;

import com.bluepumpkin.common.datatypes.ID;
import com.bluepumpkin.ejb.bbm.timeoffcalculator.TOCalcUtil;
import com.bluepumpkin.ejb.bbm.workresource.model.Organization;
import com.bluepumpkin.ejb.rm.l10n.RmSettingKey;

/**
 * Value object that holds time off detail data about a single organization day.
 */
public class TOCalendarDayData implements Serializable {

	// The day type constants, in cases where more than one condition applies,
	// the type constant with a higher numberic value takes precedence.

	/**
	 * The day has no time off hours available.
	 */
	public final static int NO_TO_HOURS_AVAILABLE_DAY_TYPE = 0;
	/**
	 * The day has time off hours available.
	 */
	public final static int TO_HOURS_AVAILABLE_DAY_TYPE = 1;
	/**
	 * The day is an unpaid, i.e working, holiday.
	 */
	public final static int UNPAID_HOLIDAY_DAY_TYPE = 2;
	/**
	 * The day is one without hours of operation for the organization
	 */
	public final static int NON_OPERATION_DAY_TYPE = 3;
	/**
	 * The day has is a paid, i.e. non-working, holiday
	 */
	public final static int PAID_HOLIDAY_DAY_TYPE = 4;
	/**
	 * The day is a scheduled blackout day.
	 */
	public final static int BLACKOUT_DAY_TYPE = 5;
	/**
	 * A day with pending TO hours
	 */
	public final static int PENDING_DAY_TYPE = 6;
	/**
	 * A day with scheduled TO hours
	 */
	public final static int SCHEDULED_DAY_TYPE = 7;
	
	/**
	 * Not relevant day type.  Days in the calendar
	 * before the employee's start date are marked as this type.
	 */
//    public final static int NOTRELEVANT_DAY_TYPE           = 8;

	/**
	 * The number of day types.
	 */
	public final static int NUMBER_DAY_TYPES = SCHEDULED_DAY_TYPE + 1;

	/**
	 * A day type value (defined above) can be converted to a RM settings key by using it
	 * as an index into this array of Strings.  So entries in this array must correspond
	 * to the day type above.
	 */
<span class="nc" id="L74">	public final static String[] DAY_TYPE_TO_SETTINGS_KEY = {</span>
		RmSettingKey.ORG_RM_SETTINGS_TO_NO_AVAILABLE_COLOR,
		RmSettingKey.ORG_RM_SETTINGS_TO_AVAILABLE_COLOR,
		RmSettingKey.ORG_RM_SETTINGS_TO_WORKING_COLOR,
		RmSettingKey.ORG_RM_SETTINGS_TO_NON_OPERATION_COLOR,
		RmSettingKey.ORG_RM_SETTINGS_TO_NON_WORKING_COLOR,
		RmSettingKey.ORG_RM_SETTINGS_TO_BLACKOUT_COLOR,
		RmSettingKey.ORG_RM_SETTINGS_TO_PENDING_COLOR,
		RmSettingKey.ORG_RM_SETTINGS_TO_SCHEDULED_COLOR,
//        RmSettingKey.ORG_RM_SETTINGS_TO_NOTRELEVANT_COLOR
	};

	/**
	 * The number of hours allocated to a particular day for an organization
	 */
<span class="nc" id="L89">	private float m_hourAvail = 0.0f;</span>
	/**
	 * The number of hours still available (remaining) in a particular day for an organization
	 */
<span class="nc" id="L93">	private float m_hourRemaining = 0.0f;</span>
	/**
	 * The number of hours in pending requests (first choices only) for this
	 * day made by some set of employees -- either the whole organization,
	 * the employees supervised by a particular manager or a single employee.
	 */
<span class="nc" id="L99">	private float m_hourPending = 0.0f;</span>
	/**
	 * The number of hours in scheduled time off events for this
	 * day made by some set of employees -- either the whole organization,
	 * the employees supervised by a particular manager or a single employee.
	 */
<span class="nc" id="L105">	private float m_scheduledTO = 0.0f;</span>
	/**
	 * An indication of the type of day this is for the organization.  A single
	 * day may actually be serval types at once.  The type reflected here is
	 * the type with higest precedence that applies.  For example, a single day
	 * may be a working holiday, have no hours available and be a blackout day.
	 * Blackout day has the highest precedence and so that's the type that would
	 * be indicated.
	 */
<span class="nc" id="L114">	private int m_dayType = NO_TO_HOURS_AVAILABLE_DAY_TYPE;</span>

	/**
	 * The day for this detail data.  This will be the beginning of an
	 * organization day in organization local time as defined by the organization
	 * time zone and the org day boundary.
	 */
	private Date m_day;

	/**
	 * The organization id
	 */
	private Organization m_org;

	public ID getTOPoolID() {
<span class="nc" id="L129">		return m_TOPoolID;</span>
	}

	public void setTOPoolID(ID TOPoolID) {
<span class="nc" id="L133">		this.m_TOPoolID = TOPoolID;</span>
<span class="nc" id="L134">	}</span>
	

	private ID m_TOPoolID;
	private static final long serialVersionUID = -2679777974580910563L;

	/**
	 * Creates a new instance of TODetailData
	 */
<span class="nc" id="L143">	public TOCalendarDayData(Date day, Organization org, ID pTOPoolID) {</span>
<span class="nc bnc" id="L144" title="All 4 branches missed.">		if (day == null || org == null)</span>
<span class="nc" id="L145">			throw new IllegalArgumentException();</span>

<span class="nc" id="L147">		m_day = day;</span>
<span class="nc" id="L148">		m_org = org;</span>
<span class="nc" id="L149">		m_TOPoolID = pTOPoolID;</span>
<span class="nc" id="L150">	}</span>

	// Setters
	public TOCalendarDayData setHourAvail(float avail) {
<span class="nc" id="L154">		m_hourAvail = avail;</span>
<span class="nc" id="L155">		return this;</span>
	}

	// Setters
	public TOCalendarDayData setHourRemaining(float remaining) {
<span class="nc" id="L160">		m_hourRemaining = remaining;</span>
<span class="nc" id="L161">		return this;</span>
	}

	public TOCalendarDayData setHourPending(float pending) {
<span class="nc" id="L165">		m_hourPending = pending;</span>
<span class="nc" id="L166">		return this;</span>
	}

	public TOCalendarDayData setScheduledTO(float scheduled) {
<span class="nc" id="L170">		m_scheduledTO = scheduled;</span>
<span class="nc" id="L171">		return this;</span>
	}

	public TOCalendarDayData setDayType(int dayType) {
<span class="nc" id="L175">		m_dayType = dayType;</span>
<span class="nc" id="L176">		return this;</span>
	}

	// Getters
<span class="nc" id="L180">	public float getHourAvail() { return m_hourAvail;   }</span>

<span class="nc" id="L182">	public float getHourRemaining() { return m_hourRemaining;   }</span>

<span class="nc" id="L184">	public float getHourPending() { return m_hourPending; }</span>

<span class="nc" id="L186">	public float getScheduledTO() { return m_scheduledTO; }</span>

<span class="nc" id="L188">	public int getDayType() { return m_dayType;     }</span>

<span class="nc" id="L190">	public Date getDate() { return m_day;         }</span>

<span class="nc bnc" id="L192" title="All 2 branches missed.">	public ID getOrgId() { return (m_org != null ? m_org.getID() : null);  }</span>
	
<span class="nc" id="L194">	 private String m_UniqueDateStr = null;</span>

	
	//QC 95169 fix  start
	public String getUniqueDateStr() {
<span class="nc bnc" id="L199" title="All 6 branches missed.">		if (m_UniqueDateStr == null &amp;&amp; m_org != null &amp;&amp; m_day != null) {</span>
<span class="nc" id="L200">			Calendar cal = TOCalcUtil.getCalendarForOrgDayStart(m_org, m_day);</span>
<span class="nc" id="L201">			m_UniqueDateStr = cal.get(Calendar.YEAR) + &quot;:&quot; + cal.get(Calendar.MONTH) + &quot;:&quot; + cal.get(Calendar.DAY_OF_MONTH);</span>
		}
<span class="nc" id="L203">		return m_UniqueDateStr;</span>
	}
	
	public Organization getM_org() {
<span class="nc" id="L207">		return m_org;</span>
	}

	public void setM_org(Organization m_org) {
<span class="nc" id="L211">		this.m_org = m_org;</span>
<span class="nc" id="L212">	}</span>
   //QC 95169 fix  ends
	public String toString() {
<span class="nc" id="L215">		return &quot;OrgId=&quot; + getOrgId() +</span>
<span class="nc" id="L216">		        &quot;\tDate=&quot; + getDate() +</span>
<span class="nc" id="L217">		        &quot;\tDayType=&quot; + getDayType() +</span>
<span class="nc" id="L218">		        &quot;\tAvail=&quot; + getHourAvail() +</span>
<span class="nc" id="L219">		        &quot;\tRemaining=&quot; + getHourRemaining() +</span>
<span class="nc" id="L220">		        &quot;\tPending=&quot; + getHourPending() +</span>
<span class="nc" id="L221">		        &quot;\tScheduled=&quot; + getScheduledTO();</span>

	}

}
    
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.5.201505241946</span></div></body></html>