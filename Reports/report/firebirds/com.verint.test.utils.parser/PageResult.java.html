<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>PageResult.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">QA Code Coverage</a> &gt; <a href="index.source.html" class="el_package">com.verint.test.utils.parser</a> &gt; <span class="el_source">PageResult.java</span></div><h1>PageResult.java</h1><pre class="source lang-java linenums">package com.verint.test.utils.parser;

import com.gargoylesoftware.htmlunit.html.HtmlPage;
import com.verint.test.utils.parser.pagemessage.PageMessage;
import com.verint.test.utils.parser.pagemessage.PageMessageInfo;
import org.apache.commons.lang3.StringUtils;

import java.util.Collection;
import java.util.stream.Collectors;

/**
 * Contains information about the HTTP response from a legacy RequestHandler (which contains the HTML content of a legacy page model).
 * For now, this class just contains the page messages that are part of the page model.
 */
public abstract class PageResult {

	private HtmlPage htmlPage;

	protected PageMessageInfo pageMessages;

<span class="nc" id="L21">	public PageResult(HtmlPage htmlPage) {</span>
<span class="nc" id="L22">		this.htmlPage = htmlPage;</span>
<span class="nc" id="L23">	}</span>

<span class="nc" id="L25">	public PageResult(HtmlPage htmlPage, PageMessageInfo pageMessages) {</span>
<span class="nc" id="L26">		this.htmlPage = htmlPage;</span>
<span class="nc" id="L27">		this.pageMessages = pageMessages;</span>
<span class="nc" id="L28">	}</span>

	public void setPageMessages(PageMessageInfo pageMessages) {
<span class="nc" id="L31">		this.pageMessages = pageMessages;</span>
<span class="nc" id="L32">	}</span>

	public PageMessageInfo getPageMessages() {
<span class="nc" id="L35">		return pageMessages;</span>
	}

	/**
	 * Search through the collection and check if collection of page messages contain requested error messages.
	 *
	 * @param errorMessage for which we search.
	 * @return when errorMessage exist return true, otherwise false.
	 */
	public boolean isContainError(final String errorMessage) {
		//Verify result
<span class="nc" id="L46">		Collection&lt;PageMessage&gt; errorMessages = this.pageMessages.getErrorMessages()</span>
<span class="nc" id="L47">				.stream()</span>
<span class="nc" id="L48">				.filter(e -&gt; StringUtils.trim(e.pageMessageText).equals(StringUtils.trim(errorMessage)))</span>
<span class="nc" id="L49">				.collect(Collectors.toList());</span>

<span class="nc bnc" id="L51" title="All 2 branches missed.">		return !errorMessages.isEmpty();</span>
	}

	/**
	 * Search through the collection and check if collection of page messages contain requested response message.
	 *
	 * @param responseMessage message for which we are search.
	 * @return when responseMessage exist return true, otherwise false.
	 */
	public boolean isContainResponse(final String responseMessage) {
		//Verify result
<span class="nc" id="L62">		Collection&lt;PageMessage&gt; responseMessages = this.pageMessages.getResponseMessages()</span>
<span class="nc" id="L63">				.stream()</span>
<span class="nc" id="L64">				.filter(e -&gt; StringUtils.trim(e.pageMessageText).equals(StringUtils.trim(responseMessage)))</span>
<span class="nc" id="L65">				.collect(Collectors.toList());</span>

<span class="nc bnc" id="L67" title="All 2 branches missed.">		return !responseMessages.isEmpty();</span>
	}

	/**
	 * @param warningMessage message for which we are searching.
	 * @return when warning Message exist return true, otherwise false.
	 */
	public boolean isContainWarning(final String warningMessage) {
		//Verify Result
<span class="nc" id="L76">		Collection&lt;PageMessage&gt; warningMessages = this.pageMessages.getWarningMessage()</span>
<span class="nc" id="L77">				.stream()</span>
<span class="nc" id="L78">				.filter(e -&gt; StringUtils.trim(e.pageMessageText).equals(StringUtils.trim(warningMessage)))</span>
<span class="nc" id="L79">				.collect(Collectors.toList());</span>
<span class="nc bnc" id="L80" title="All 2 branches missed.">		return !warningMessages.isEmpty();</span>
	}

	/**
	 *
	 * @return if page has at least one error message return true, otherwise false.
	 */
	public boolean isContainErrors(){
<span class="nc bnc" id="L88" title="All 2 branches missed.">		return this.pageMessages.getErrorMessages().size() &gt; 0 ? true : false;</span>
	}

	/**
	 *
	 * @return if page has at least one response message return true, otherwise false.
	 */
	public boolean isContainResponses(){
<span class="nc bnc" id="L96" title="All 2 branches missed.">		return this.pageMessages.getResponseMessages().size() &gt; 0 ? true : false;</span>
	}

	/**
	 *
	 * @return if page has at least one warning message return true, otherwise false.
	 */
	public boolean isContainWarnings(){
<span class="nc bnc" id="L104" title="All 2 branches missed.">		return this.pageMessages.getWarningMessage().size() &gt; 0 ? true : false;</span>
	}

	/**
	 * Return total number of errors which exists on the HTML page.
	 *
	 * @return number of error.
	 */
	public int getErrorCount() {
<span class="nc" id="L113">		return this.pageMessages.getErrorMessages().size();</span>
	}

	/**
	 * Return total number of response messages which exists on the HTML page.
	 *
	 * @return number of response messages.
	 */
	public int getResponseCount() {
<span class="nc" id="L122">		return this.pageMessages.getResponseMessages().size();</span>
	}

	public int getWarningCount() {
<span class="nc" id="L126">		return this.pageMessages.getWarningMessage().size();</span>
	}

	public HtmlPage getHtmlPage() {
<span class="nc" id="L130">		return htmlPage;</span>
	}
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.5.201505241946</span></div></body></html>