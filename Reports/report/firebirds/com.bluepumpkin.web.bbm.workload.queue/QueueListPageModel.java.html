<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>QueueListPageModel.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">QA Code Coverage</a> &gt; <a href="index.source.html" class="el_package">com.bluepumpkin.web.bbm.workload.queue</a> &gt; <span class="el_source">QueueListPageModel.java</span></div><h1>QueueListPageModel.java</h1><pre class="source lang-java linenums">package com.bluepumpkin.web.bbm.workload.queue;

import java.text.MessageFormat;
import java.util.ArrayList;
import java.util.Collection;
import java.util.Collections;
import java.util.HashMap;
import java.util.Iterator;
import java.util.Map;
import java.util.Set;

import com.bluepumpkin.common.datatypes.ID;
import com.bluepumpkin.common.datatypes.ScopeID;
import com.bluepumpkin.common.logging.Category;
import com.bluepumpkin.common.util.StringUtil;
import com.bluepumpkin.ejb.bbm.workload.model.Queue;
import com.bluepumpkin.ejb.bbm.workload.model.QueuePaginationData;
import com.bluepumpkin.web.bbm.Log;
import com.bluepumpkin.web.bbm.l10n.BbmWebBundleKey;
import com.bluepumpkin.web.bbm.organization.OrgWorkpaneListPageModel;
import com.bluepumpkin.web.bbm.organization.OrganizationModelHandler;
import com.bluepumpkin.web.bbm.organization.OrganizationUtil;
import com.bluepumpkin.web.bbm.organization.setup.datasource.group.GroupMH;
import com.bluepumpkin.web.bbm.workload.WorkloadModelHandler;
import com.bluepumpkin.web.bbm.workload.queue.mapping.QueueGroupMH;
import com.verint.web.wfm.keys.WfmJavaScriptFileID;
import com.witness.ejb.core.security.PrivilegeKeys;
import com.witness.ejb.core.security.Scope;
import com.witness.web.uif.base.Message;
import com.witness.web.uif.keys.JavaScriptFileID;
import com.witness.web.uif.keys.PageAction;
import com.witness.web.uif.l10n.UIFWebBundleKey;
import com.witness.web.uif.pagecomponent.DefaultMultiColumnNodeData;
import com.witness.web.uif.pagecomponent.table.TableHeaderPC;
import com.witness.web.uif.pagemodel.PageModel;
import com.witness.web.uif.system.RequestContext;
import com.witness.web.uif.system.manager.impl.DefaultVerticalizationManager;
import com.witness.web.uif.util.UserPreferencesUtil;
import com.witness.web.uif.util.js.JSUtil;

/**
 * Title: JobTitleListPageModel Description: Display the list of Job Title
 * Copyright: Copyright (c) 2001 Company: Blue Pumpkin Software, inc
 * 
 * @author David Su
 * @version 1.0
 */
public class QueueListPageModel extends OrgWorkpaneListPageModel {

    private static final long serialVersionUID = 1L;

<span class="fc" id="L52">    private static final Category log = Log.initCategory(QueueListPageModel.class.getName());</span>

    private static final String LIST_NAME_SORT = &quot;NAME&quot;;
    private static final String LIST_DESCRIPTION_SORT = &quot;DESCRIPTION&quot;;
    private static final String LIST_MEDIA_TITLE_SORT = &quot;MEDIANAME&quot;;
    private static final String LIST_TYPE_TITLE_SORT = &quot;TYPENAME&quot;;
    private static final String LIST_MAPPING_TITLE_SORT = &quot;DSG&quot;;
    private static final String LIST_ORGANIZATION_SORT = &quot;ORGANIZATIONNAME&quot;;
    public static final String CAN_CONFIGURE = &quot;CAN_CONFIGURE&quot;;

<span class="fc" id="L62">    private boolean m_bIsScoped = true; // assume scoped</span>
    private Collection&lt;Queue&gt; m_QueueList;

<span class="fc" id="L65">    private Map m_groupNameMap = Collections.EMPTY_MAP;</span>
<span class="fc" id="L66">    private Map m_queueGroupMap = Collections.EMPTY_MAP;</span>
<span class="fc" id="L67">    private int totalNoOfPages = 1;</span>

<span class="fc" id="L69">    ID m_selectedOrgID = null;</span>

    /**
     * Constructor
     */
    public QueueListPageModel(RequestContext context) {
<span class="fc" id="L75">        super(context);</span>

<span class="fc" id="L77">        m_selectedOrgID = getSelectedIDObject();</span>
<span class="pc bpc" id="L78" title="1 of 2 branches missed.">        if (m_selectedOrgID == null) {</span>
<span class="nc bnc" id="L79" title="All 2 branches missed.">            if (OrganizationUtil.getSelectedOrganizationID(m_context) != null) {</span>
<span class="nc" id="L80">                m_selectedOrgID = new ID(OrganizationUtil.getSelectedOrganizationID(m_context));</span>

            } else {
<span class="nc" id="L83">                m_selectedOrgID = new ID(-3002);</span>

            }
        }

        // SelectedID is now Org. We have a mix of SelectedID, getSelectedOrgID
        // in-play. Should unify
        // these calls at some point.
        // Also note that some of the form handlers reset SelectedID to org ID

<span class="fc" id="L93">        setName(&quot;queueList&quot;);</span>

<span class="fc" id="L95">        setJSMediator(WfmJavaScriptFileID.MEDIATOR_ORG_QUEUE_LIST_WORKPANE);</span>
<span class="fc" id="L96">        addRequiredJavaScriptFile(JavaScriptFileID.MEDIATOR);</span>
<span class="fc" id="L97">        addJSVariableAsString(CAN_CONFIGURE, String.valueOf(isAuthorizedToConfigure()));</span>
<span class="fc" id="L98">        this.setIsPaginatingSelectedIDs(false);</span>
<span class="fc" id="L99">        setPageIDSize(UserPreferencesUtil.getDefaultPageRows(context));</span>
<span class="fc" id="L100">    }</span>

    /**
     * Return instance of Model which is ready to be rendered
     */
    public static PageModel getInstance(RequestContext context) {
<span class="fc" id="L106">        return getInstance(context, QueueListPageModel.class);</span>
    }

    /**
     * Loads all the Job Title value objects for the selected Organization ID
     *
     * @return true if load was successful
     */
    private boolean loadQueues() {

        try {

            // determine if current user has access to selected Org..
<span class="pc bpc" id="L119" title="1 of 2 branches missed.">            if (m_context.getUser().isAuthorized(PrivilegeKeys.CORE_VIEWORGANIZATION, new ScopeID(m_selectedOrgID, Scope.ORG_SCOPE))) {</span>
<span class="fc" id="L120">                final int from = (getPagePaginationIndex() * getPageIDSize()) + 1;</span>
<span class="fc" id="L121">                final QueuePaginationData queuePaginationData = WorkloadModelHandler.getPaginatedQueuesByRecursedOrgID(m_context, m_selectedOrgID, getSortColumn(), getSortOrder(), from, from + (getPageIDSize() - 1), false, null);</span>
<span class="fc" id="L122">                this.m_QueueList = queuePaginationData.getQueues();</span>
<span class="pc bpc" id="L123" title="1 of 2 branches missed.">                if ((queuePaginationData.getTotal() % getPageIDSize()) == 0) {</span>
<span class="nc" id="L124">                    this.totalNoOfPages = queuePaginationData.getTotal() / getPageIDSize();</span>
                } else {
<span class="fc" id="L126">                    this.totalNoOfPages = (queuePaginationData.getTotal() / getPageIDSize()) + 1;</span>
                }
<span class="pc bpc" id="L128" title="1 of 2 branches missed.">                if (totalNoOfPages &lt;= getPagePaginationIndex()) {</span>
<span class="nc" id="L129">                    setPagePaginationIndex(this.totalNoOfPages);</span>
                }
<span class="fc" id="L131">                buildMaps();</span>
<span class="fc" id="L132">                return true;</span>
            } else {

<span class="nc" id="L135">                addPageMessage(Message.INFO_TYPE, getNotAuthorizedToViewMsg());</span>
<span class="nc" id="L136">                m_bIsScoped = false;</span>
<span class="nc" id="L137">                return false;</span>
            }
<span class="nc" id="L139">        } catch (final Exception ex) {</span>
<span class="nc" id="L140">            handleUnableToLoadDataError(log, ex);</span>
<span class="nc" id="L141">            return false;</span>
        }
    }

    /**
     * Initialize List
     */
    @Override
    protected void initList() {
<span class="fc" id="L150">        super.initList();</span>
        // Setup Headers
<span class="fc" id="L152">        final TableHeaderPC header = m_list.getHeader();</span>
<span class="fc" id="L153">        header.setSortable(true);</span>

<span class="fc" id="L155">        header.addColumnHeaderData(LIST_NAME_SORT, i18n(m_common_bundle, UIFWebBundleKey.LIST_HEADER_NAME), true);</span>
<span class="fc" id="L156">        header.addColumnHeaderData(LIST_DESCRIPTION_SORT, i18n(m_common_bundle, UIFWebBundleKey.LIST_HEADER_DESCRIPTION), false);</span>
<span class="fc" id="L157">        header.addColumnHeaderData(LIST_ORGANIZATION_SORT, i18n(m_bbmBundle, BbmWebBundleKey.CAMPAIGN_ORG_PAGE_TITLE), true);</span>
<span class="fc" id="L158">        header.addColumnHeaderData(LIST_MEDIA_TITLE_SORT, i18n(m_bbmBundle, BbmWebBundleKey.QUEUE_LABEL_MEDIA), true);</span>
<span class="fc" id="L159">        header.addColumnHeaderData(LIST_TYPE_TITLE_SORT, i18n(m_bbmBundle, BbmWebBundleKey.QUEUE_LABEL_TYPE), true);</span>
<span class="fc" id="L160">        header.addColumnHeaderData(LIST_MAPPING_TITLE_SORT, i18n(m_bbmBundle, BbmWebBundleKey.BBM_ORG_WORKLOADS_GROUPS_MAPPING), false);</span>

        // Setup basic table property
<span class="fc" id="L163">        m_list.setIsAutoSortEnabled(true);</span>
<span class="fc" id="L164">        m_list.setMultiRowSelectable(false);</span>
<span class="pc bpc" id="L165" title="1 of 2 branches missed.">        header.setDefaultSortColumn(StringUtil.isEmpty(getSortColumn()) ? getDefaultSortColumn() : getSortColumn());</span>
<span class="fc" id="L166">        setSortColumn(header.getSortColumn());</span>
<span class="fc" id="L167">        setSortOrder(header.getSortOrder());</span>
<span class="fc" id="L168">    }</span>

    @Override
    public void setSortColumn(String column) {
<span class="pc bpc" id="L172" title="1 of 2 branches missed.">        if (column.matches(&quot;^\\w+$&quot;)) {</span>
<span class="fc" id="L173">            super.setSortColumn(column);</span>
        }
<span class="fc" id="L175">    }</span>

    @Override
    protected String getDefaultSortColumn() {
<span class="fc" id="L179">        return LIST_NAME_SORT;</span>
    }

    /**
     * Create the list model
     */
    @Override
    protected void createListModel() {

<span class="fc" id="L188">        m_selectedOrgID = getSelectedIDObject();</span>
<span class="pc bpc" id="L189" title="1 of 2 branches missed.">        if (!loadQueues()) {</span>
<span class="nc" id="L190">            return;</span>
        }

<span class="fc" id="L193">        final String selected = (String) m_context.getAttribute(RequestContext.SESSION_SCOPE, &quot;CACHED_QUEUE_ID&quot;);</span>
<span class="fc" id="L194">        this.setPerformActionOnID(selected);</span>

<span class="pc bpc" id="L196" title="2 of 4 branches missed.">        final boolean isAuth = m_bIsScoped &amp;&amp; isAuthorizedToConfigure();</span>
<span class="fc" id="L197">        final ArrayList listModel = new ArrayList();</span>
        // QC 85510
<span class="pc bpc" id="L199" title="1 of 2 branches missed.">        if (m_QueueList != null) {</span>
<span class="fc bfc" id="L200" title="All 2 branches covered.">            for (final Iterator it = m_QueueList.iterator(); it.hasNext();) {</span>
<span class="fc" id="L201">                final Queue queue = (Queue) it.next();</span>

                // Create the row data
<span class="fc" id="L204">                final String rowID = queue.getID().toString();</span>
<span class="fc" id="L205">                final DefaultMultiColumnNodeData row_data = new DefaultMultiColumnNodeData(rowID);</span>

<span class="fc" id="L207">                row_data.add(queue.getName());</span>
<span class="fc" id="L208">                row_data.add(queue.getDescription());</span>
<span class="fc" id="L209">                row_data.add(queue.getOrganizationName());</span>
<span class="fc" id="L210">                row_data.add(queue.getMediaName());</span>
<span class="fc" id="L211">                row_data.add(getQueueTypeName(queue.getQueueType()));</span>
<span class="fc" id="L212">                row_data.add(getMappingsStr(queue.getID()));</span>

                // Set if the row should be editable or not. Row should be
                // editable if the
                // selected org is the owner of the activity

<span class="fc" id="L218">                final HashMap rowAttributes = row_data.getNodeAttributes();</span>
<span class="pc bpc" id="L219" title="1 of 4 branches missed.">                if (isAuth &amp;&amp; m_selectedOrgID.equals(queue.getOrganizationID())) {</span>
<span class="fc" id="L220">                    rowAttributes.put(IS_EDITABLE, &quot;true&quot;);</span>
<span class="fc" id="L221">                    rowAttributes.put(IS_DELETEABLE, &quot;true&quot;);</span>
<span class="fc" id="L222">                    rowAttributes.put(IS_COPYABLE, &quot;true&quot;);</span>
                } else {
<span class="fc" id="L224">                    rowAttributes.put(IS_EDITABLE, &quot;false&quot;);</span>
<span class="fc" id="L225">                    rowAttributes.put(IS_DELETEABLE, &quot;false&quot;);</span>
<span class="fc" id="L226">                    rowAttributes.put(IS_COPYABLE, &quot;false&quot;);</span>
                }
<span class="fc" id="L228">                rowAttributes.put(COPY_ITEM_NAME, queue.getName());</span>

                // Add row data to list model
<span class="fc" id="L231">                listModel.add(row_data);</span>

                // Check if row should be selected, assuming only one should be
                // selected
<span class="pc bpc" id="L235" title="1 of 2 branches missed.">                if (OrganizationModelHandler.UNREASONABLE_ORG_ID.equals(m_selectedRowOrgID)) {</span>
<span class="pc bpc" id="L236" title="1 of 2 branches missed.">                    if (this.isRowSelected(queue.getID())) {</span>
<span class="nc" id="L237">                        m_list.addSelectedRowID(rowID);</span>
<span class="nc" id="L238">                        m_selectedRowOrgID = queue.getOrganizationID();</span>
                    }
                }
<span class="fc" id="L241">            } // end for</span>
        }
<span class="fc" id="L243">        m_list.setListModel(listModel);</span>

<span class="fc" id="L245">    }</span>

    @Override
    protected boolean isSortSupported() {
<span class="fc" id="L249">        return m_list.isAutoSortEnabled();</span>
    }

    /**
     * Get entity name. Used for title.
     */
    @Override
    protected String getTitleEntityType() {
<span class="fc" id="L257">        return i18n(m_bbmBundle, BbmWebBundleKey.QUEUE_LIST_TITLE);</span>
    }

    /**
     * Return URL for HTML Form Action
     */
    @Override
    public String getFormAction() {
        // System.out.println(&quot;returning Form action&quot;);
<span class="fc" id="L266">        return &quot;queue&quot;;</span>
    }

    @Override
    protected void initToolbar() {

        // verticalise queue
<span class="fc" id="L273">        final Object[] args = new Object[1];</span>
<span class="fc" id="L274">        args[0] = m_context.getSystemManagerFactory().getVerticalizationManager().getVerticalizedString(m_context, DefaultVerticalizationManager.QUEUESMALL);</span>

<span class="fc" id="L276">        final String addLabel = MessageFormat.format(i18n(m_bbmBundle, BbmWebBundleKey.QUEUE_CREATE_ACTION), args);</span>
<span class="fc" id="L277">        final String copyLabel = MessageFormat.format(i18n(m_bbmBundle, BbmWebBundleKey.QUEUE_COPY_ACTION), args);</span>
<span class="fc" id="L278">        final String editLabel = MessageFormat.format(i18n(m_bbmBundle, BbmWebBundleKey.QUEUE_EDIT_ACTION), args);</span>
<span class="fc" id="L279">        final String deleteLabel = MessageFormat.format(i18n(m_bbmBundle, BbmWebBundleKey.QUEUE_DELETE_ACTION), args);</span>
<span class="fc" id="L280">        boolean bOrgOwnsQueue = false;</span>

        /*
         * ID[] ids = getSelectedQueueIDs(); if (ids.size &gt; 0) { String
         * selectedRow = ids[0].toString(); Queue queue =
         * WorkloadModelHandler.getQueueByID(m_context, selectedRow); if (queue
         * != null) { if (queue.getOrganizationID() !=
         * 
         * }
         * 
         * }
         */

        try {
<span class="pc bpc" id="L294" title="1 of 2 branches missed.">            if (!StringUtil.isEmpty(this.getPerformActionOnID())) {</span>
<span class="nc" id="L295">                final Queue queue = WorkloadModelHandler.getQueueByID(m_context, new ID(getPerformActionOnID()));</span>
<span class="nc bnc" id="L296" title="All 2 branches missed.">                if (queue != null) {</span>
<span class="nc bnc" id="L297" title="All 2 branches missed.">                    if (queue.getOrganizationID() == m_selectedOrgID) {</span>
<span class="nc" id="L298">                        bOrgOwnsQueue = true;</span>
                    }
                }

            }
<span class="nc" id="L303">        } catch (final Exception ex) {</span>

            // TODO: unlikely but handle.
<span class="fc" id="L306">        }</span>

<span class="pc bpc" id="L308" title="2 of 4 branches missed.">        final boolean isAuth = m_bIsScoped &amp;&amp; isAuthorizedToConfigure();</span>
<span class="pc bpc" id="L309" title="2 of 4 branches missed.">        final boolean isBtnEnabled = isAuth &amp;&amp; !StringUtil.isEmpty(this.getPerformActionOnID());</span>
<span class="fc" id="L310">        m_toolbar.setPagePagination(getPagePaginationIndex(), totalNoOfPages);</span>
<span class="fc" id="L311">        m_toolbar.getPagination().setButtonCustomJS(JSUtil.REFRESH_PAGE, JSUtil.REFRESH_PAGE);</span>
<span class="fc" id="L312">        m_toolbar.addSubmitTextButton(PageAction.ADD, addLabel, isAuth);</span>
<span class="fc" id="L313">        m_toolbar.addSubmitTextButton(PageAction.EDIT, editLabel, (isBtnEnabled));</span>
<span class="fc" id="L314">        m_toolbar.addSubmitTextButton(PageAction.QUEUE_COPY_ACTION, copyLabel, (isBtnEnabled));</span>
<span class="fc" id="L315">        m_toolbar.addDeleteTextButton(PageAction.DELETE, deleteLabel, (isBtnEnabled));</span>

<span class="fc" id="L317">    }</span>

    private String getQueueTypeName(int type) {
<span class="pc bpc" id="L320" title="2 of 5 branches missed.">        switch (type) {</span>
            case Queue.QUEUE_TYPE_NORMAL:
<span class="fc" id="L322">                return m_localizer.i18n(BbmWebBundleKey.BUNDLE_NAME, BbmWebBundleKey.QUEUE_TYPE_NORMAL);</span>
            case Queue.QUEUE_TYPE_VIRTUAL:
<span class="fc" id="L324">                return m_localizer.i18n(BbmWebBundleKey.BUNDLE_NAME, BbmWebBundleKey.QUEUE_TYPE_VIRTUAL);</span>
            case Queue.QUEUE_TYPE_DISTRIBUTED:
<span class="fc" id="L326">                return m_localizer.i18n(BbmWebBundleKey.BUNDLE_NAME, BbmWebBundleKey.QUEUE_TYPE_DISTRIBUTED);</span>
            case Queue.QUEUE_TYPE_PROCESS:
<span class="nc" id="L328">                return m_localizer.i18n(BbmWebBundleKey.BUNDLE_NAME, BbmWebBundleKey.QUEUE_TYPE_PROCESS);</span>
            default: // should never come here.
<span class="nc" id="L330">                return &quot;&quot;;</span>
        }

    }

    private String getMappingsStr(ID queueID) {
<span class="fc" id="L336">        String mappingStr = &quot;&amp;nbsp;&quot;;</span>

        // return mappingStr;

<span class="fc" id="L340">        final ArrayList groupColl = (ArrayList) m_queueGroupMap.get(queueID);</span>
<span class="pc bpc" id="L341" title="3 of 4 branches missed.">        if ((groupColl != null) &amp;&amp; !groupColl.isEmpty()) {</span>
<span class="nc" id="L342">            final StringBuffer str = new StringBuffer(50);</span>
<span class="nc bnc" id="L343" title="All 2 branches missed.">            for (int i = 0; i &lt; groupColl.size(); i++) {</span>
<span class="nc" id="L344">                final String value = (String) m_groupNameMap.get(groupColl.get(i));</span>
<span class="nc" id="L345">                str.append(value);</span>
<span class="nc bnc" id="L346" title="All 2 branches missed.">                if (i &lt; (groupColl.size() - 1)) {</span>
<span class="nc" id="L347">                    str.append(&quot;, &quot;);</span>
                }
            }
<span class="nc" id="L350">            mappingStr = str.toString();</span>
        }

<span class="fc" id="L353">        return mappingStr;</span>
    }

    /**
     * Return the Selected Queue IDs
     */
    public ID[] getSelectedQueueIDs() {
<span class="nc" id="L360">        return m_performActionOnIDs;</span>
    }

    private void buildMaps() throws Exception {

        try {
            // Collection dataList =
            // WorkloadModelHandler.getAllQueues(m_context);
            // Collection dataList =
            // WorkloadModelHandler.getQueuesByOrgID(m_context,getSelectedIDObject());
            // ID idOrg = OrganizationUtil.getSelectedOrganizationID();

<span class="pc bpc" id="L372" title="2 of 4 branches missed.">            if ((m_QueueList != null) &amp;&amp; (!m_QueueList.isEmpty())) {</span>

<span class="fc" id="L374">                final ArrayList&lt;ID&gt; queueIDsColl = new ArrayList&lt;ID&gt;(m_QueueList.size());</span>
<span class="fc bfc" id="L375" title="All 2 branches covered.">                for (final Queue queue : m_QueueList) {</span>
<span class="fc" id="L376">                    queueIDsColl.add(queue.getID());</span>
<span class="fc" id="L377">                }</span>
<span class="fc" id="L378">                m_queueGroupMap = QueueGroupMH.getLinkedGroupIDsForQueues(queueIDsColl);</span>

<span class="pc bpc" id="L380" title="2 of 4 branches missed.">                if ((m_queueGroupMap != null) &amp;&amp; (m_queueGroupMap.size() &gt; 0)) {</span>
<span class="nc" id="L381">                    final ArrayList groupIDSet = new ArrayList();</span>
<span class="nc" id="L382">                    final Set keySet = m_queueGroupMap.keySet();</span>
<span class="nc bnc" id="L383" title="All 2 branches missed.">                    for (final Iterator it1 = keySet.iterator(); it1.hasNext();) {</span>
<span class="nc" id="L384">                        final ID queueID = (ID) it1.next();</span>
<span class="nc" id="L385">                        final ArrayList groupColl = (ArrayList) m_queueGroupMap.get(queueID);</span>
<span class="nc bnc" id="L386" title="All 4 branches missed.">                        if ((groupColl != null) &amp;&amp; (groupColl.size() &gt; 0)) {</span>
<span class="nc bnc" id="L387" title="All 2 branches missed.">                            for (int i = 0; i &lt; groupColl.size(); i++) {</span>
<span class="nc" id="L388">                                final ID groupID = (ID) groupColl.get(i);</span>
<span class="nc bnc" id="L389" title="All 2 branches missed.">                                if (!groupIDSet.contains(groupID)) {</span>
<span class="nc" id="L390">                                    groupIDSet.add(groupID);</span>
                                }
                            }
                        }
<span class="nc" id="L394">                    }</span>
<span class="nc" id="L395">                    m_groupNameMap = GroupMH.getGroupNamesByIDs(groupIDSet);</span>
                }

            }

<span class="nc" id="L400">        } catch (final Exception e) {</span>
            // TODO Auto-generated catch block
<span class="nc" id="L402">            e.printStackTrace();</span>
<span class="fc" id="L403">        }</span>

<span class="fc" id="L405">    }</span>

    @Override
    protected boolean isAuthorizedToConfigure() {
<span class="fc" id="L409">        return (m_context.getUser().isAuthorized(PrivilegeKeys.FS_CONFIGUREQUEUES));</span>
    }

    public void setSelectedOrgID(String id) {
<span class="nc" id="L413">        m_selectedOrgID = new ID(id);</span>
<span class="nc" id="L414">    }</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.5.201505241946</span></div></body></html>