<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>WfmManagerFactory.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">QA Code Coverage</a> &gt; <a href="index.source.html" class="el_package">com.verint.ejb.wfm</a> &gt; <span class="el_source">WfmManagerFactory.java</span></div><h1>WfmManagerFactory.java</h1><pre class="source lang-java linenums">package com.verint.ejb.wfm;

import javax.naming.Context;
import javax.naming.InitialContext;

import com.bluepumpkin.common.util.EJBHomeFactory;
import com.bluepumpkin.ejb.bbm.BbmEJBCreateException;
import com.bluepumpkin.ejb.bbm.BbmManagerFactory;
import com.bluepumpkin.ejb.bbm.JNDINames;
import com.bluepumpkin.ejb.bbm.activity.ejb.ActivityManager;
import com.bluepumpkin.ejb.bbm.activity.ejb.ActivityManagerHome;
import com.bluepumpkin.ejb.bbm.activity.ejb.CoreActivityManager;
import com.bluepumpkin.ejb.bbm.campaign.ejb.CampaignManager;
import com.bluepumpkin.ejb.bbm.campaign.ejb.CampaignManagerEJBHome;
import com.bluepumpkin.ejb.bbm.campaign.ejb.CoreCampaignManager;
import com.bluepumpkin.ejb.bbm.empworkrule.ejb.EmpWorkRuleManager;
import com.bluepumpkin.ejb.bbm.empworkrule.ejb.EmpWorkRuleManagerEJBHome;
import com.bluepumpkin.ejb.bbm.pulse.ejb.TrackingManager;
import com.bluepumpkin.ejb.bbm.pulse.ejb.TrackingManagerHome;
import com.bluepumpkin.ejb.bbm.schedule.ejb.CoreScheduleAccessManager;
import com.bluepumpkin.ejb.bbm.schedule.ejb.ScheduleAccessManager;
import com.bluepumpkin.ejb.bbm.schedule.ejb.ScheduleAccessManagerHome;
import com.bluepumpkin.ejb.bbm.schedulelock.ejb.ScheduleLockManager;
import com.bluepumpkin.ejb.bbm.schedulelock.ejb.ScheduleLockManagerEJBHome;
import com.bluepumpkin.ejb.bbm.schedulepref.ejb.SchedulePrefManager;
import com.bluepumpkin.ejb.bbm.schedulepref.ejb.SchedulePrefManagerEJBHome;
import com.bluepumpkin.ejb.bbm.skill.ejb.CoreSkillManager;
import com.bluepumpkin.ejb.bbm.skill.ejb.SkillManager;
import com.bluepumpkin.ejb.bbm.skill.ejb.SkillManagerEJBHome;
import com.bluepumpkin.ejb.bbm.timerecord.ejb.CoreTimeRecordManager;
import com.bluepumpkin.ejb.bbm.timerecord.ejb.TimeRecordExportManager;
import com.bluepumpkin.ejb.bbm.timerecord.ejb.TimeRecordExportManagerHome;
import com.bluepumpkin.ejb.bbm.timerecord.ejb.TimeRecordManager;
import com.bluepumpkin.ejb.bbm.timerecord.ejb.TimeRecordManagerHome;
import com.bluepumpkin.ejb.bbm.timeseries.ejb.CoreTimeSeriesManager;
import com.bluepumpkin.ejb.bbm.timeseries.ejb.TimeSeriesAuditManager;
import com.bluepumpkin.ejb.bbm.timeseries.ejb.TimeSeriesAuditManagerHome;
import com.bluepumpkin.ejb.bbm.timeseries.ejb.TimeSeriesManager;
import com.bluepumpkin.ejb.bbm.timeseries.ejb.TimeSeriesManagerHome;
import com.bluepumpkin.ejb.bbm.workload.ejb.CoreWorkloadManager;
import com.bluepumpkin.ejb.bbm.workload.ejb.WorkloadManager;
import com.bluepumpkin.ejb.bbm.workload.ejb.WorkloadManagerEJBHome;
import com.bluepumpkin.ejb.bbm.workrules.ejb.CoreWorkRuleManager;
import com.bluepumpkin.ejb.bbm.workrules.ejb.WorkRuleManager;
import com.bluepumpkin.ejb.bbm.workrules.ejb.WorkRuleManagerHome;
import com.bluepumpkin.ejb.core.CoreEJBCreateException;
import com.bluepumpkin.ejb.core.CoreManagerFactory;
import com.verint.ejb.bbm.forecast.ejb.ForecastTimeSeriesEJBHome;
import com.verint.ejb.bbm.forecast.ejb.ForecastTimeSeriesManager;
import com.verint.ejb.bbm.fterequirements.ejb.FteRequirementsManager;
import com.verint.ejb.bbm.fterequirements.ejb.FteRequirementsManagerEJBHome;
import com.verint.ejb.bbm.schedule.ejb.AutoScheduleRequestManager;
import com.verint.ejb.bbm.schedule.ejb.AutoScheduleRequestManagerEJBHome;
import com.verint.ejb.bbm.servicegoals.ejb.ServiceGoalsManager;
import com.verint.ejb.bbm.servicegoals.ejb.ServiceGoalsManagerEJBHome;
import com.witness.ejb.core.mediatypes.ejb.MediaTypesManager;
import com.witness.ejb.core.mediatypes.ejb.MediaTypesManagerHome;
import com.witness.ejb.core.mediatypes.ejb.MediaTypesManagerHomeLocal;

<span class="fc" id="L60">public class WfmManagerFactory implements IWfmManagerFactory {</span>
	
	public static final String AUTOSCHEDULEREQUESTMANGER_EJBHOME = &quot;verint/autoschedulerequestmanager&quot;;

	public static ActivityManager getActivityManager(boolean WhatIf) throws BbmEJBCreateException {
		try {
<span class="fc" id="L66">			final EJBHomeFactory factory = EJBHomeFactory.getFactory();</span>
<span class="fc" id="L67">			final StringBuffer homeJNDI = new StringBuffer(JNDINames.BBM_ACTIVITYMANAGER_EJBHOME);</span>
<span class="pc bpc" id="L68" title="1 of 2 branches missed.">			if (WhatIf) {</span>
<span class="nc" id="L69">				homeJNDI.append(BbmManagerFactory.WIF_SUFFIX);</span>
			}
<span class="fc" id="L71">			final ActivityManagerHome mgrHome = (ActivityManagerHome) factory.lookUpHome(homeJNDI.toString(),</span>
					ActivityManagerHome.class);

<span class="fc" id="L74">			return mgrHome.create();</span>
<span class="nc" id="L75">		} catch (final Exception e) {</span>
<span class="nc" id="L76">			throw new BbmEJBCreateException(&quot;ActivityManager in WhatIf Mode: &quot; + WhatIf, e);</span>
		}
	}

	public static ActivityManager getActivityManager() throws BbmEJBCreateException {
<span class="fc" id="L81">		return getActivityManager(false);</span>
	}

	public static CampaignManager getCampaignManager(boolean WhatIf) throws BbmEJBCreateException {
		try {
<span class="fc" id="L86">			final EJBHomeFactory factory = EJBHomeFactory.getFactory();</span>
<span class="fc" id="L87">			final StringBuffer homeJNDI = new StringBuffer(JNDINames.BBM_CAMPAIGNMANAGER_EJBHOME);</span>
<span class="pc bpc" id="L88" title="1 of 2 branches missed.">			if (WhatIf) {</span>
<span class="nc" id="L89">				homeJNDI.append(BbmManagerFactory.WIF_SUFFIX);</span>
			}
<span class="fc" id="L91">			final CampaignManagerEJBHome mgrHome = (CampaignManagerEJBHome) factory.lookUpHome(homeJNDI.toString(),</span>
					CampaignManagerEJBHome.class);

<span class="fc" id="L94">			return mgrHome.create();</span>
<span class="nc" id="L95">		} catch (final Exception e) {</span>
<span class="nc" id="L96">			throw new BbmEJBCreateException(&quot;CampaignManager in WhatIf Mode: &quot; + WhatIf, e);</span>
		}
	}

	public static CampaignManager getCampaignManager() throws BbmEJBCreateException {
		try {
<span class="fc" id="L102">			return getCampaignManager(false);</span>
<span class="nc" id="L103">		} catch (final Exception e) {</span>
<span class="nc" id="L104">			throw new BbmEJBCreateException(&quot;CampaignManager&quot;, e);</span>
		}
	}

	public static EmpWorkRuleManager getEmpWorkRuleManager() throws BbmEJBCreateException {
<span class="fc" id="L109">		return getEmpWorkRuleManager(false);</span>
	}

	public static EmpWorkRuleManager getEmpWorkRuleManager(boolean isWhatIf) throws BbmEJBCreateException {
		try {
<span class="fc" id="L114">			final EJBHomeFactory factory = EJBHomeFactory.getFactory();</span>
<span class="fc" id="L115">			final StringBuffer homeJNDI = new StringBuffer(JNDINames.BBM_EMPWORKRULE_EJBHOME);</span>
<span class="pc bpc" id="L116" title="1 of 2 branches missed.">			if (isWhatIf) {</span>
<span class="nc" id="L117">				homeJNDI.append(BbmManagerFactory.WIF_SUFFIX);</span>
			}
<span class="fc" id="L119">			final EmpWorkRuleManagerEJBHome mgrHome = (EmpWorkRuleManagerEJBHome) factory.lookUpHome(homeJNDI.toString(),</span>
					EmpWorkRuleManagerEJBHome.class);

<span class="fc" id="L122">			return mgrHome.create();</span>
<span class="nc" id="L123">		} catch (final Exception e) {</span>
<span class="nc" id="L124">			throw new BbmEJBCreateException(&quot;EmpWorkRuleManager&quot;, e);</span>
		}
	}

	public static ForecastTimeSeriesManager getForecastTimeSeriesManager(boolean isWhatIf) throws BbmEJBCreateException {
		try {
<span class="fc" id="L130">			final EJBHomeFactory factory = EJBHomeFactory.getFactory();</span>
<span class="fc" id="L131">			final StringBuffer homeJNDI = new StringBuffer(JNDINames.BBM_FORECASTTIMESERIES_EJBHOME);</span>
<span class="pc bpc" id="L132" title="1 of 2 branches missed.">			if (isWhatIf) {</span>
<span class="nc" id="L133">				homeJNDI.append(BbmManagerFactory.WIF_SUFFIX);</span>
			}
<span class="fc" id="L135">			final ForecastTimeSeriesEJBHome mgrHome = (ForecastTimeSeriesEJBHome) factory.lookUpHome(homeJNDI.toString(),</span>
					ForecastTimeSeriesEJBHome.class);

<span class="fc" id="L138">			return mgrHome.create();</span>
<span class="nc" id="L139">		} catch (final Exception e) {</span>
<span class="nc" id="L140">			throw new BbmEJBCreateException(&quot;ForecastTimeSeriesManager&quot;, e);</span>
		}
	}

	public static FteRequirementsManager getFteRequirementsManager(boolean isWhatIf) throws BbmEJBCreateException {
		try {
<span class="fc" id="L146">			final EJBHomeFactory factory = EJBHomeFactory.getFactory();</span>
<span class="fc" id="L147">			final StringBuffer homeJNDI = new StringBuffer(JNDINames.BBM_FTEREQUIREMENTS_EJBHOME);</span>
<span class="fc bfc" id="L148" title="All 2 branches covered.">			if (isWhatIf) {</span>
<span class="fc" id="L149">				homeJNDI.append(BbmManagerFactory.WIF_SUFFIX);</span>
			}
<span class="fc" id="L151">			final FteRequirementsManagerEJBHome mgrHome = (FteRequirementsManagerEJBHome) factory.lookUpHome(</span>
<span class="fc" id="L152">					homeJNDI.toString(), FteRequirementsManagerEJBHome.class);</span>

<span class="fc" id="L154">			return mgrHome.create();</span>
<span class="nc" id="L155">		} catch (final Exception e) {</span>
<span class="nc" id="L156">			throw new BbmEJBCreateException(&quot;FteRequirementsManager&quot;, e);</span>
		}
	}

	/**
	 * Support dual interfaced LicenseManager
	 * 
	 * @return
	 * @throws CoreEJBCreateException
	 */
	public static MediaTypesManager getMediaTypesManager() throws CoreEJBCreateException {
<span class="nc bnc" id="L167" title="All 2 branches missed.">		if (!CoreManagerFactory.PREFERREMOTE) {</span>
			// under normal condition it will prefer Local interface
<span class="nc" id="L169">			Context ic = null;</span>
			try {
<span class="nc" id="L171">				ic = new InitialContext();</span>
<span class="nc" id="L172">				final Object o = ic.lookup(com.bluepumpkin.ejb.core.JNDINames.MEDIATYPESMANAGER_EJBHOME</span>
						+ CoreManagerFactory.LOCAL);
<span class="nc" id="L174">				final MediaTypesManagerHomeLocal home = (MediaTypesManagerHomeLocal) o;</span>
<span class="nc" id="L175">				return home.create();</span>
<span class="nc" id="L176">			} catch (final Exception e) {</span>
<span class="nc" id="L177">				throw new CoreEJBCreateException(&quot;MediaTypesManagerLocal&quot;, e);</span>
			} finally {
<span class="nc bnc" id="L179" title="All 4 branches missed.">				if (ic != null) {</span>
					try {
<span class="nc" id="L181">						ic.close();</span>
<span class="nc" id="L182">					} catch (final Exception ex) {</span>
						// ignore
<span class="nc" id="L184">					}</span>
				}
			}
		}
<span class="nc" id="L188">		return getMediaTypesManagerRemote();</span>
	}

	/**
	 * Facilitates remote client calls outside Application EAR
	 * 
	 * @return
	 * @throws CoreEJBCreateException
	 */
	public static MediaTypesManager getMediaTypesManagerRemote() throws CoreEJBCreateException {
		try {
<span class="nc" id="L199">			final EJBHomeFactory factory = EJBHomeFactory.getFactory();</span>
<span class="nc" id="L200">			final MediaTypesManagerHome mgrHome = (MediaTypesManagerHome) factory.lookUpHome(</span>
					com.bluepumpkin.ejb.core.JNDINames.MEDIATYPESMANAGER_EJBHOME, MediaTypesManagerHome.class);
<span class="nc" id="L202">			return mgrHome.create();</span>
<span class="nc" id="L203">		} catch (final Exception e) {</span>
<span class="nc" id="L204">			throw new CoreEJBCreateException(&quot;MediaTypesManager&quot;, e);</span>
		}
	}

	public static ScheduleAccessManager getScheduleAccessManager() throws BbmEJBCreateException {
<span class="fc" id="L209">		return getScheduleAccessManager(false);</span>
	}

	public static ScheduleAccessManager getScheduleAccessManager(boolean isWhatIf) throws BbmEJBCreateException {
		try {
<span class="fc" id="L214">			final EJBHomeFactory factory = EJBHomeFactory.getFactory();</span>
<span class="fc" id="L215">			final StringBuffer homeJNDI = new StringBuffer(JNDINames.BBM_SCHEDULEACCESS_EJBHOME);</span>
<span class="pc bpc" id="L216" title="1 of 2 branches missed.">			if (isWhatIf) {</span>
<span class="nc" id="L217">				homeJNDI.append(BbmManagerFactory.WIF_SUFFIX);</span>
			}
<span class="fc" id="L219">			final ScheduleAccessManagerHome mgrHome = (ScheduleAccessManagerHome) factory.lookUpHome(homeJNDI.toString(),</span>
					ScheduleAccessManagerHome.class);

<span class="fc" id="L222">			return mgrHome.create();</span>
<span class="nc" id="L223">		} catch (final Exception e) {</span>
<span class="nc" id="L224">			throw new BbmEJBCreateException(&quot;ScheduleAccessManager&quot;, e);</span>
		}
	}

	public static ScheduleLockManager getScheduleLockManager(boolean bWhatIf) throws BbmEJBCreateException {
		try {
<span class="fc" id="L230">			final EJBHomeFactory factory = EJBHomeFactory.getFactory();</span>
<span class="fc" id="L231">			String sHome = JNDINames.BBM_SCHEDULELOCK_EJBHOME;</span>
<span class="pc bpc" id="L232" title="1 of 2 branches missed.">			if (bWhatIf) {</span>
<span class="nc" id="L233">				sHome += BbmManagerFactory.WIF_SUFFIX;</span>
			}
<span class="fc" id="L235">			final ScheduleLockManagerEJBHome mgrHome = (ScheduleLockManagerEJBHome) factory.lookUpHome(sHome,</span>
					ScheduleLockManagerEJBHome.class);

<span class="fc" id="L238">			return mgrHome.create();</span>
<span class="nc" id="L239">		} catch (final Exception e) {</span>
<span class="nc" id="L240">			throw new BbmEJBCreateException(&quot;ScheduleLockManager&quot;, e);</span>
		}
	}

	public static SchedulePrefManager getSchedulePrefManager(boolean isWhatIf) throws BbmEJBCreateException {
		try {
<span class="nc" id="L246">			final EJBHomeFactory factory = EJBHomeFactory.getFactory();</span>
<span class="nc" id="L247">			final StringBuffer homeJNDI = new StringBuffer(JNDINames.BBM_SCHEDULEPREF_EJBHOME);</span>
<span class="nc bnc" id="L248" title="All 2 branches missed.">			if (isWhatIf) {</span>
<span class="nc" id="L249">				homeJNDI.append(BbmManagerFactory.WIF_SUFFIX);</span>
			}
<span class="nc" id="L251">			final SchedulePrefManagerEJBHome mgrHome = (SchedulePrefManagerEJBHome) factory.lookUpHome(homeJNDI.toString(),</span>
					SchedulePrefManagerEJBHome.class);

<span class="nc" id="L254">			return mgrHome.create();</span>
<span class="nc" id="L255">		} catch (final Exception e) {</span>
<span class="nc" id="L256">			throw new BbmEJBCreateException(&quot;SchedulePrefManager&quot;, e);</span>
		}
	}

	public static ServiceGoalsManager getServiceGoalsManager(boolean isWhatIf) throws BbmEJBCreateException {
		try {
<span class="fc" id="L262">			final EJBHomeFactory factory = EJBHomeFactory.getFactory();</span>
<span class="fc" id="L263">			final StringBuffer homeJNDI = new StringBuffer(JNDINames.BBM_SERVICEGOALS_EJBHOME);</span>
<span class="pc bpc" id="L264" title="1 of 2 branches missed.">			if (isWhatIf) {</span>
<span class="nc" id="L265">				homeJNDI.append(BbmManagerFactory.WIF_SUFFIX);</span>
			}
<span class="fc" id="L267">			final ServiceGoalsManagerEJBHome mgrHome = (ServiceGoalsManagerEJBHome) factory.lookUpHome(homeJNDI.toString(),</span>
					ServiceGoalsManagerEJBHome.class);

<span class="fc" id="L270">			return mgrHome.create();</span>
<span class="nc" id="L271">		} catch (final Exception e) {</span>
<span class="nc" id="L272">			throw new BbmEJBCreateException(&quot;ServiceGoalsManager&quot;, e);</span>
		}
	}

	public static SkillManager getSkillManager() throws BbmEJBCreateException {
<span class="fc" id="L277">		return getSkillManager(false);</span>
	}

	public static SkillManager getSkillManager(boolean bWhatIf) throws BbmEJBCreateException {
		try {
<span class="fc" id="L282">			final EJBHomeFactory factory = EJBHomeFactory.getFactory();</span>
<span class="fc" id="L283">			String sHome = JNDINames.BBM_SKILLMANAGER_EJBHOME;</span>
<span class="pc bpc" id="L284" title="1 of 2 branches missed.">			if (bWhatIf) {</span>
<span class="nc" id="L285">				sHome += BbmManagerFactory.WIF_SUFFIX;</span>
			}
<span class="fc" id="L287">			final SkillManagerEJBHome mgrHome = (SkillManagerEJBHome) factory.lookUpHome(sHome, SkillManagerEJBHome.class);</span>

<span class="fc" id="L289">			return mgrHome.create();</span>
<span class="nc" id="L290">		} catch (final Exception e) {</span>
<span class="nc" id="L291">			throw new BbmEJBCreateException(&quot;SkillManager&quot;, e);</span>
		}
	}
	
	
	
	public static AutoScheduleRequestManager getAutoScheduleRequestManager() throws BbmEJBCreateException {
<span class="nc" id="L298">		return getAutoScheduleRequestManager(false);</span>
	}

	public static AutoScheduleRequestManager getAutoScheduleRequestManager(boolean whatIf)
			throws BbmEJBCreateException {
		try {
<span class="nc" id="L304">			final EJBHomeFactory factory = EJBHomeFactory.getFactory();</span>
<span class="nc" id="L305">			String home = AUTOSCHEDULEREQUESTMANGER_EJBHOME;</span>
<span class="nc bnc" id="L306" title="All 2 branches missed.">			if (whatIf) {</span>
<span class="nc" id="L307">				home += BbmManagerFactory.WIF_SUFFIX;</span>
			}
<span class="nc" id="L309">			final AutoScheduleRequestManagerEJBHome mgrHome = (AutoScheduleRequestManagerEJBHome) factory</span>
<span class="nc" id="L310">					.lookUpHome(home, AutoScheduleRequestManagerEJBHome.class);</span>

<span class="nc" id="L312">			return mgrHome.create();</span>
<span class="nc" id="L313">		} catch (final Exception e) {</span>
<span class="nc" id="L314">			throw new BbmEJBCreateException(&quot;AutoScheduleRequestManager&quot;, e);</span>
		}
	}

	public static TrackingManager getPulseTrackingManager() throws BbmEJBCreateException {
<span class="nc" id="L319">		return getPulseTrackingManager(false);</span>
	}

	public static TrackingManager getPulseTrackingManager(boolean WhatIf) throws BbmEJBCreateException {
		try {
<span class="fc" id="L324">			final EJBHomeFactory factory = EJBHomeFactory.getFactory();</span>
<span class="fc" id="L325">			final StringBuffer homeJNDI = new StringBuffer(JNDINames.BBM_PULSE_EJBHOME);</span>
<span class="pc bpc" id="L326" title="1 of 2 branches missed.">			if (WhatIf) {</span>
<span class="nc" id="L327">				homeJNDI.append(BbmManagerFactory.WIF_SUFFIX);</span>
			}
<span class="fc" id="L329">			final TrackingManagerHome mgrHome = (TrackingManagerHome) factory.lookUpHome(homeJNDI.toString(),</span>
					TrackingManagerHome.class);
<span class="fc" id="L331">			return mgrHome.create();</span>
<span class="nc" id="L332">		} catch (final Exception e) {</span>
<span class="nc" id="L333">			throw new BbmEJBCreateException(&quot;TrackingManager in WhatIf Mode: &quot; + WhatIf, e);</span>
		}
	}

	public static TimeRecordManager getTimeRecordManager() throws BbmEJBCreateException {
		try {
<span class="fc" id="L339">			final EJBHomeFactory factory = EJBHomeFactory.getFactory();</span>
<span class="fc" id="L340">			final TimeRecordManagerHome mgrHome = (TimeRecordManagerHome) factory.lookUpHome(</span>
					JNDINames.BBM_TIMERECORDMANAGER_EJBHOME, TimeRecordManagerHome.class);

<span class="fc" id="L343">			return mgrHome.create();</span>
<span class="nc" id="L344">		} catch (final Exception e) {</span>
<span class="nc" id="L345">			throw new BbmEJBCreateException(&quot;TimeRecordManager&quot;, e);</span>
		}
	}

	public static TimeRecordExportManager getTimeRecordExportManager() throws BbmEJBCreateException {
		try {
<span class="nc" id="L351">			final EJBHomeFactory factory = EJBHomeFactory.getFactory();</span>
<span class="nc" id="L352">			final TimeRecordExportManagerHome mgrHome = (TimeRecordExportManagerHome) factory.lookUpHome(</span>
					JNDINames.BBM_TIMERECORDEXPORTMANAGER_EJBHOME, TimeRecordExportManagerHome.class);

<span class="nc" id="L355">			return mgrHome.create();</span>
<span class="nc" id="L356">		} catch (final Exception e) {</span>
<span class="nc" id="L357">			throw new BbmEJBCreateException(&quot;TimeRecordExportManager&quot;, e);</span>
		}
	}

	public static TimeSeriesAuditManager getTimeSeriesAuditManager(boolean WhatIf) throws BbmEJBCreateException {
		try {
<span class="fc" id="L363">			final EJBHomeFactory factory = EJBHomeFactory.getFactory();</span>
<span class="fc" id="L364">			final StringBuffer homeJNDI = new StringBuffer(JNDINames.BBM_TIMESERIESAUDIT_EJBHOME);</span>
<span class="pc bpc" id="L365" title="1 of 2 branches missed.">			if (WhatIf) {</span>
<span class="nc" id="L366">				homeJNDI.append(BbmManagerFactory.WIF_SUFFIX);</span>
			}
<span class="fc" id="L368">			final TimeSeriesAuditManagerHome mgrHome = (TimeSeriesAuditManagerHome) factory.lookUpHome(homeJNDI.toString(),</span>
					TimeSeriesAuditManagerHome.class);
<span class="fc" id="L370">			return mgrHome.create();</span>
<span class="nc" id="L371">		} catch (final Exception e) {</span>
<span class="nc" id="L372">			throw new BbmEJBCreateException(&quot;TimeSeriesAuditManager in WhatIf Mode: &quot; + WhatIf, e);</span>
		}
	}

	public static TimeSeriesManager getTimeSeriesManager() throws BbmEJBCreateException {
<span class="fc" id="L377">		return getTimeSeriesManager(false);</span>
	}

	public static TimeSeriesManager getTimeSeriesManager(boolean WhatIf) throws BbmEJBCreateException {
		try {
<span class="fc" id="L382">			final EJBHomeFactory factory = EJBHomeFactory.getFactory();</span>
<span class="fc" id="L383">			final StringBuffer homeJNDI = new StringBuffer(JNDINames.BBM_TIMESERIES_EJBHOME);</span>
<span class="pc bpc" id="L384" title="1 of 2 branches missed.">			if (WhatIf) {</span>
<span class="nc" id="L385">				homeJNDI.append(BbmManagerFactory.WIF_SUFFIX);</span>
			}
<span class="fc" id="L387">			final TimeSeriesManagerHome mgrHome = (TimeSeriesManagerHome) factory.lookUpHome(homeJNDI.toString(),</span>
					TimeSeriesManagerHome.class);
<span class="fc" id="L389">			return mgrHome.create();</span>
<span class="nc" id="L390">		} catch (final Exception e) {</span>
<span class="nc" id="L391">			throw new BbmEJBCreateException(&quot;TimeSeriesManager in WhatIf Mode: &quot; + WhatIf, e);</span>
		}
	}

	public static WorkloadManager getWorkloadManager(boolean WhatIf) throws BbmEJBCreateException {
		try {
<span class="fc" id="L397">			final EJBHomeFactory factory = EJBHomeFactory.getFactory();</span>
<span class="fc" id="L398">			final StringBuffer homeJNDI = new StringBuffer(JNDINames.BBM_WORKLOADMANAGER_EJBHOME);</span>
<span class="pc bpc" id="L399" title="1 of 2 branches missed.">			if (WhatIf) {</span>
<span class="nc" id="L400">				homeJNDI.append(BbmManagerFactory.WIF_SUFFIX);</span>
			}
<span class="fc" id="L402">			final WorkloadManagerEJBHome mgrHome = (WorkloadManagerEJBHome) factory.lookUpHome(homeJNDI.toString(),</span>
					WorkloadManagerEJBHome.class);

<span class="fc" id="L405">			return mgrHome.create();</span>
<span class="nc" id="L406">		} catch (final Exception e) {</span>
<span class="nc" id="L407">			throw new BbmEJBCreateException(&quot;WorkloadManager in WhatIf Mode: &quot; + WhatIf, e);</span>
		}
	}

	public static WorkloadManager getWorkloadManager() throws BbmEJBCreateException {
<span class="fc" id="L412">		return getWorkloadManager(false);</span>
	}

	public static WorkRuleManager getWorkRuleManager(boolean isWhatIf) throws BbmEJBCreateException {
		try {
<span class="fc" id="L417">			final EJBHomeFactory factory = EJBHomeFactory.getFactory();</span>
<span class="fc" id="L418">			final StringBuffer homeJNDI = new StringBuffer(JNDINames.BBM_WORKRULEMANAGER_EJBHOME);</span>
<span class="pc bpc" id="L419" title="1 of 2 branches missed.">			if (isWhatIf) {</span>
<span class="nc" id="L420">				homeJNDI.append(BbmManagerFactory.WIF_SUFFIX);</span>
			}
<span class="fc" id="L422">			final WorkRuleManagerHome mgrHome = (WorkRuleManagerHome) factory.lookUpHome(homeJNDI.toString(),</span>
					WorkRuleManagerHome.class);

<span class="fc" id="L425">			return mgrHome.create();</span>
<span class="nc" id="L426">		} catch (final Exception e) {</span>
<span class="nc" id="L427">			throw new BbmEJBCreateException(&quot;WorkRuleManager&quot;, e);</span>
		}
	}

	public static WorkRuleManager getWorkRuleManager() throws BbmEJBCreateException {
<span class="fc" id="L432">		return getWorkRuleManager(false);</span>
	}

	/**
	 * Everything below this comment block is part of the IWfmManagerFactory
	 * interface definition. These methods are solely to support the WFM code
	 * that is still being referenced by Foundation. Generally, this methods
	 * should not be added to or modified (only removed as the dependencies are
	 * removed over time).
	 */
	@Override
	public CoreActivityManager getCoreActivityManager(boolean isWhatIf) throws BbmEJBCreateException {
<span class="fc" id="L444">		return getActivityManager(isWhatIf);</span>
	}

	@Override
	public CoreCampaignManager getCoreCampaignManager(boolean isWhatIf) throws BbmEJBCreateException {
<span class="fc" id="L449">		return getCampaignManager(isWhatIf);</span>
	}

	@Override
	public CoreScheduleAccessManager getCoreScheduleAccessManager(boolean isWhatIf) throws BbmEJBCreateException {
<span class="fc" id="L454">		return getScheduleAccessManager(isWhatIf);</span>
	}

	@Override
	public CoreSkillManager getCoreSkillManager(boolean isWhatIf) throws BbmEJBCreateException {
<span class="fc" id="L459">		return getSkillManager(isWhatIf);</span>
	}

	@Override
	public CoreTimeRecordManager getCoreTimeRecordManager() throws BbmEJBCreateException {
<span class="fc" id="L464">		return getTimeRecordManager();</span>
	}

	@Override
	public CoreTimeSeriesManager getCoreTimeSeriesManager(boolean isWhatIf) throws BbmEJBCreateException {
<span class="nc" id="L469">		return getTimeSeriesManager(isWhatIf);</span>
	}

	@Override
	public CoreWorkloadManager getCoreWorkloadManager(boolean isWhatIf) throws BbmEJBCreateException {
<span class="fc" id="L474">		return getWorkloadManager(isWhatIf);</span>
	}

	@Override
	public CoreWorkRuleManager getCoreWorkRuleManager(boolean isWhatIf) throws BbmEJBCreateException {
<span class="nc" id="L479">		return getWorkRuleManager(isWhatIf);</span>
	}
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.5.201505241946</span></div></body></html>