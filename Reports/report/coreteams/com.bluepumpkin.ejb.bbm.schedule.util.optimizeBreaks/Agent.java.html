<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>Agent.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">QA Code Coverage</a> &gt; <a href="index.source.html" class="el_package">com.bluepumpkin.ejb.bbm.schedule.util.optimizeBreaks</a> &gt; <span class="el_source">Agent.java</span></div><h1>Agent.java</h1><pre class="source lang-java linenums">package com.bluepumpkin.ejb.bbm.schedule.util.optimizeBreaks;

public class Agent
{
	public Agent(Scenario scenario, String name, double proficiency)
<span class="fc" id="L6">	{</span>
<span class="fc" id="L7">		this.scenario = scenario;</span>
<span class="fc" id="L8">		this.name = &quot;Agent-&quot; + name;</span>
<span class="fc" id="L9">		this.proficiency = proficiency;</span>
<span class="fc" id="L10">		isAvailable = new boolean[2][];</span>
<span class="fc" id="L11">		isAvailable[0] = new boolean[scenario.numIntervals];</span>
<span class="fc" id="L12">		isAvailable[1] = new boolean[scenario.numIntervals];</span>
<span class="fc bfc" id="L13" title="All 2 branches covered.">		for (int layer = 0; layer &lt; 2; layer++)</span>
		{
<span class="fc bfc" id="L15" title="All 2 branches covered.">			for (int i = 0; i &lt; scenario.numIntervals; i++)</span>
			{
<span class="fc" id="L17">				isAvailable[layer][i] = true;</span>
			}
		}

<span class="fc" id="L21">	}</span>
	public String IsAvailable(int layer, int start, int end)
	{
<span class="pc bpc" id="L24" title="2 of 4 branches missed.">		if (start &lt; 0 || end &gt; scenario.numIntervals)</span>
		{
<span class="nc" id="L26">			return &quot;Not available past shift boundaries&quot;;</span>
		}
<span class="pc bpc" id="L28" title="1 of 2 branches missed.">		if (layer &lt; 0)</span>
		{
<span class="nc" id="L30">			return null;</span>
		}

<span class="fc bfc" id="L33" title="All 2 branches covered.">		for (int n = start; n &lt; end; n += scenario.intervalLength)</span>
		{
<span class="pc bpc" id="L35" title="1 of 2 branches missed.">			if (!isAvailable[layer][n])</span>
			{
<span class="nc" id="L37">				return &quot;Not available in layer &quot; + layer + &quot; at : &quot; + scenario.IntervalToDateTime(n);</span>
			}
		}
<span class="fc" id="L40">		return null;</span>
	}
	public int GetLeftSpacing(int layer, int interval)
	{
<span class="fc bfc" id="L44" title="All 2 branches covered.">		for (int n = interval; n &gt; 0; n -= scenario.intervalLength)</span>
		{
<span class="pc bpc" id="L46" title="1 of 2 branches missed.">			if (!isAvailable[layer][n])</span>
			{
<span class="nc" id="L48">				return (interval - n) - 1;</span>
			}
		}
<span class="fc" id="L51">		return interval;</span>
	}
	public int GetRightSpacing(int layer, int interval)
	{
<span class="fc bfc" id="L55" title="All 2 branches covered.">		for (int n = interval; n &lt; scenario.numIntervals; n += scenario.intervalLength)</span>
		{
<span class="pc bpc" id="L57" title="1 of 2 branches missed.">			if (!isAvailable[layer][n])</span>
<span class="nc" id="L58">				return n - interval;</span>
		}
<span class="fc" id="L60">		return scenario.numIntervals - interval;</span>
	}
	public final void SetAvailability(int layer, int start, int end, boolean b)
	{
<span class="pc bpc" id="L64" title="1 of 2 branches missed.">		if (end &gt; scenario.numIntervals)</span>
<span class="nc" id="L65">			end = scenario.numIntervals;</span>
<span class="pc bpc" id="L66" title="1 of 2 branches missed.">		if (layer &lt; 0)</span>
		{
<span class="nc" id="L68">			return;</span>
		}
<span class="fc bfc" id="L70" title="All 2 branches covered.">		Logger.Log((b ? &quot;Release &quot; : &quot;Alloc &quot;) + &quot;availability in layer &quot; + layer + &quot; from &quot; + scenario.IntervalToDateTime(start) + &quot; to &quot; + scenario.IntervalToDateTime(end));</span>
<span class="fc bfc" id="L71" title="All 2 branches covered.">		for (int n = start; n &lt; end; n += scenario.intervalLength)</span>
		{
<span class="fc" id="L73">			isAvailable[layer][n] = b;</span>
		}
<span class="fc" id="L75">	}</span>
	public void Log()
	{
<span class="fc" id="L78">		Logger.Log(name + &quot;: Proficiency = &quot; + proficiency);</span>
<span class="fc" id="L79">	}</span>
	private Scenario scenario;
	public double proficiency;
	public String name;
	private boolean[][] isAvailable;
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.5.201505241946</span></div></body></html>