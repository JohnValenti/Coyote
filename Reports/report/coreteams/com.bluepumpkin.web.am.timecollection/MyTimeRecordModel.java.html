<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>MyTimeRecordModel.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">QA Code Coverage</a> &gt; <a href="index.source.html" class="el_package">com.bluepumpkin.web.am.timecollection</a> &gt; <span class="el_source">MyTimeRecordModel.java</span></div><h1>MyTimeRecordModel.java</h1><pre class="source lang-java linenums">package com.bluepumpkin.web.am.timecollection;

import java.text.MessageFormat;
import java.util.ArrayList;

import com.bluepumpkin.common.datatypes.StringsPair;
import com.bluepumpkin.common.l10n.RegionalFormatBundleKey;
import com.bluepumpkin.common.util.StringUtil;
import com.bluepumpkin.ejb.bbm.activity.model.Activity;
import com.bluepumpkin.ejb.bbm.timerecord.model.TimeRecord;
import com.bluepumpkin.ejb.bbm.timerecord.model.TimeRecordEntry;
import com.bluepumpkin.ejb.core.profile.model.UserProfile;
import com.bluepumpkin.web.am.l10n.AmWebBundleKey;
import com.bluepumpkin.web.am.timerecords.TimeRecordUtil;
import com.bluepumpkin.web.core.keys.PageKeys;
import com.witness.web.uif.system.RequestContext;
import com.witness.web.uif.util.HtmlUtil;
import com.witness.web.uif.util.ColorUtil;
import java.awt.Color;

/**
 * Title:        Blue Pumpkin Software Activity Management
 * Description:  My Time page model
 * Copyright:    Copyright (c) 2001
 * Company:      Blue Pumpkin Software, inc
 * @author       Swati Tewari
 * @version      1.0
 */

public class MyTimeRecordModel extends MyTimeModel{
<span class="fc" id="L31">	private boolean m_initialized = false;</span>
	private int m_activityTotal;

	public static final String REFRESH_RATE_FN = &quot;refreshRate&quot;; //form field name
	public static final String TIME_OF_DAY_FN = &quot;timeOfDay&quot;; //for the current time indicator dynamic javascript text
	
	//Refresh rate constants
    public static final int REFRESH_RATE_NOT_SET = -1; //indicates that the refresh rate was not set yet
    public static final int NO_AUTO_REFRESH = -2;
    public static final int DEFAULT_REFRESH_RATE = NO_AUTO_REFRESH;
    public static final String REFRESH_RATE_USER_PROPERTY_KEY = &quot;MyTimeAutoRefresh&quot;; //user profile key    
    
    //Action constants
    public static final String CHANGE_REFRESH_RATE_ACTION = &quot;CHANGE_REFRESH_RATE_ACTION&quot;; //probably not needed, since we have no RH class
    
    //Refresh Rate variables
<span class="fc" id="L47">    private ArrayList m_refreshRateList = null; // a list of refresh rate options for the drop down</span>
<span class="fc" id="L48">    private int m_refreshRate = REFRESH_RATE_NOT_SET;</span>
    
	public MyTimeRecordModel(RequestContext context) throws Exception {
<span class="fc" id="L51">		super(context,MyTimeModel.TIME_RECORD_MODEL);</span>
<span class="fc" id="L52">		addJSVariable(PageKeys.LIST_OFFSET_JS_VAR, &quot;false&quot;);</span>
<span class="fc" id="L53">	}</span>

	public static MyTimeRecordModel getInstance(RequestContext context)throws Exception{
<span class="fc" id="L56">		MyTimeRecordModel model = (MyTimeRecordModel) context.getAttribute(RequestContext.REQUEST_SCOPE,</span>
							MyTimeModel.MODEL_KEY);
<span class="pc bpc" id="L58" title="1 of 2 branches missed.">		if (model==null){</span>
			//create a new model
<span class="nc" id="L60">			model = new MyTimeRecordModel(context);</span>
			// Cache model
<span class="nc" id="L62">			context.setAttribute(RequestContext.REQUEST_SCOPE, MyTimeModel.MODEL_KEY, model);</span>
		}
<span class="fc" id="L64">		model.populateModel(context);</span>

<span class="fc" id="L66">		return model;</span>
	}

	/**
	 * Make sure that the model is populated
	 */
	private void populateModel(RequestContext context) {
<span class="fc bfc" id="L73" title="All 2 branches covered.">		if ( m_initialized )</span>
<span class="fc" id="L74">			return;</span>
<span class="fc" id="L75">		m_initialized = true;</span>
		try {
<span class="pc bpc" id="L77" title="1 of 2 branches missed.">			if ( empId != null )</span>
<span class="fc" id="L78">				myTimeEvent = MyTimeModelHandler.getHistoryEventsForToday(empId,m_sortAscend,getStartDateCalendar());</span>
<span class="fc" id="L79">			processActivityGroup(context);</span>
<span class="pc bpc" id="L80" title="1 of 2 branches missed.">			if ( empId != null )</span>
<span class="fc" id="L81">				processCurrentActivity();</span>
<span class="nc" id="L82">		} catch (Exception e) {</span>
<span class="fc" id="L83">		}</span>
<span class="fc" id="L84">	}</span>

	/**
	* getNeedNotes()
	* return boolean
	*/
	public boolean getNeedNotes(){
<span class="fc" id="L91">		return true;</span>
	}

	/**
	 * Return URL for HTML Form Action
	 */
	public String getFormAction() {
<span class="fc" id="L98">		return &quot;processchangeshift&quot;;</span>
	}

	/**
	 * setPageSN()
	 */
	protected void setPageSN(UserProfile aProfile){
<span class="fc" id="L105">		int sn = getLatestPageSN(aProfile);</span>
<span class="fc bfc" id="L106" title="All 2 branches covered.">		m_validSN = sn == m_pageSN;</span>
<span class="fc" id="L107">		m_pageSN = sn + 1;</span>
<span class="fc" id="L108">		aProfile.setProperty(MyTimeModel.MYTIME_SN, String.valueOf(m_pageSN), false);</span>
<span class="fc" id="L109">	}</span>

	/**
	 * Return URL for HTML Form Action
	 */
	public String getTimeRecordDisplay() {
<span class="fc" id="L115">		StringBuffer aBuf = new StringBuffer();</span>

<span class="fc bfc" id="L117" title="All 2 branches covered.">        for (int i=0; i&lt;myTimeEvent.size();i++){</span>
<span class="fc" id="L118">			TimeRecord aRecord = (TimeRecord) myTimeEvent.get(i);</span>

			//now get the timerecordentry
<span class="fc" id="L121">			ArrayList anEntryList = (ArrayList)aRecord.getChildren();</span>

			//set entry order per option
<span class="pc bpc" id="L124" title="1 of 2 branches missed.">			if (  !m_sortAscend ) {</span>
				// reverse order of myTimeEvent
<span class="nc" id="L126">				ArrayList reversedTimeEvent = new ArrayList(anEntryList.size());</span>
<span class="nc bnc" id="L127" title="All 2 branches missed.">				for( int entryNum = anEntryList.size() -1; entryNum &gt;= 0 ;entryNum-- ) {</span>
<span class="nc" id="L128">					reversedTimeEvent.add(anEntryList.get(entryNum));</span>
				}
<span class="nc" id="L130">				anEntryList = reversedTimeEvent;</span>
			}

<span class="fc bfc" id="L133" title="All 2 branches covered.">			for (int j=0; j&lt;anEntryList.size(); j++){</span>
<span class="pc bpc" id="L134" title="1 of 2 branches missed.">				switch (aRecord.getType())</span>
				{
					case TimeRecord.AGG_TIMEENTRY:
					case TimeRecord.TIMEENTRY:

<span class="fc" id="L139">					TimeRecordEntry anEntry = (TimeRecordEntry) anEntryList.get(j);</span>

<span class="fc" id="L141">					String startTime = m_localizer.formatDate(anEntry.getStartTime(),</span>
<span class="fc" id="L142">								m_context.getViewingTimeZone(),</span>
								RegionalFormatBundleKey.DATE_FORMAT,
								RegionalFormatBundleKey.TIME_FORMAT);
<span class="pc bpc" id="L145" title="1 of 4 branches missed.">					if ((m_sortAscend &amp;&amp; j == 0)){</span>
<span class="fc" id="L146">						aBuf.append(mageStartShiftRow(startTime));</span>
					}
<span class="fc bfc" id="L148" title="All 2 branches covered.">					if (!anEntry.getActivityID().equals(Activity.ACTIVITY_NONE)) { //regular entry </span>
<span class="fc" id="L149">						String duration = m_localizer.formatDurationInMins(anEntry.getDuration());</span>
<span class="fc" id="L150">						String activityColor = getActivityColor(anEntry.getActivityID());</span>
<span class="fc" id="L151">						String activityTextColor = &quot;000000&quot;;</span>
<span class="pc bpc" id="L152" title="1 of 2 branches missed.">						if (activityColor != null)</span>
						{
<span class="fc" id="L154">							Color inverseColor = ColorUtil.getContrastingColor( new Color(Integer.parseInt(activityColor,16)) );</span>
<span class="fc" id="L155">							activityTextColor = String.format(&quot;%06X&quot;, (0xFFFFFF &amp; inverseColor.getRGB()));</span>
						}
						
<span class="fc" id="L158">						aBuf.append(&quot;&lt;tr&gt;&quot;)</span>
<span class="fc" id="L159">							.append(makeTDTag(StringUtil.NBSP, null, null, 1))</span>
<span class="fc" id="L160">							.append(makeTDTag(startTime, null, null, 1))</span>
<span class="fc" id="L161">							.append(makeTDTag(anEntry.getActivityCategoryName(), null, null, 1))							</span>
<span class="fc" id="L162">							.append(makeTDTag(anEntry.getActivityName(), activityColor, activityTextColor, 1))</span>
<span class="fc" id="L163">							.append(makeTDTag(duration, null, null, 1))</span>
<span class="fc" id="L164">							.append(makeTDTag(TimeRecordUtil.getCreatorStr(m_context, getBundle(), aRecord.getType(), anEntry.getTimeSourceCode()), null, null, 1))</span>
<span class="pc bpc" id="L165" title="1 of 2 branches missed.">							.append(makeTDTag(!StringUtil.isEmpty(anEntry.getDescription())?anEntry.getDescription():StringUtil.NBSP, null, null, 1))</span>
<span class="fc" id="L166">							.append(&quot;&lt;/tr&gt;&quot;);</span>
<span class="fc" id="L167">					} else { //end shift</span>
<span class="fc" id="L168">                       	aBuf.append(makeTDTag(startTime, null, null, 2))</span>
<span class="fc" id="L169">							.append(makeTDTag(i18n(getBundle(), AmWebBundleKey.END_SHIFT), null, null, 3))</span>
<span class="fc" id="L170">							.append(makeTDTag(TimeRecordUtil.getCreatorStr(m_context, getBundle(), aRecord.getType(), anEntry.getTimeSourceCode()), null, null, 1))</span>
<span class="pc bpc" id="L171" title="1 of 2 branches missed.">							.append(makeTDTag(!StringUtil.isEmpty(anEntry.getDescription())?anEntry.getDescription():StringUtil.NBSP, null, null, 1))</span>
<span class="fc" id="L172">							.append(&quot;&lt;/tr&gt;&quot;);</span>
					}

<span class="pc bpc" id="L175" title="3 of 4 branches missed.">					if (!m_sortAscend &amp;&amp; j == anEntryList.size()-1){</span>
<span class="nc" id="L176">						aBuf.append(mageStartShiftRow(startTime));</span>
					}
					//add to activity total for display
<span class="fc" id="L179">					m_activityTotal += anEntry.getDuration();</span>
					break;
					/*
					case TimeRecord.TIMEINTERVAL:

					TimeInterval anInterval = (TimeInterval) anEntryList.get(j);
					startTime = DateTimeDisplay.getString(anInterval.getStartTime(),
							m_context.getViewingTimeZone(),
							TimeZoneBundleKey.LONG_DATETIME_NOSECOND_FORMAT,m_context.getLocale());
					String endTime = DateTimeDisplay.getString(anInterval.getEndTime(),
							m_context.getViewingTimeZone(),
							TimeZoneBundleKey.LONG_DATETIME_NOSECOND_FORMAT,m_context.getLocale());

					String duration = DateTimeDisplay.getMinutesDisplay(anInterval.getDuration(),m_context.getLocale());
					String intervalBGColor = &quot;C2D2E6&quot;;
					aBuf.append(&quot;&lt;tr&gt;&quot;)
						.append(makeTDTag(startTime + &quot;- &lt;br&gt;&quot;+ endTime, intervalBGColor, 2))
						.append(makeTDTag(anInterval.getActivityCategoryName(), intervalBGColor, 1))
						.append(makeTDTag(anInterval.getActivityName(), getActivityColor(anInterval.getActivityID()), 1))
						.append(makeTDTag(duration, intervalBGColor, 1))
						.append(makeTDTag(TimeRecordUtil.getCreatorStr(getBundle(), aRecord.getType(), anInterval.getTimeSourceCode()), intervalBGColor, 1))
						.append(makeTDTag(!StringUtil.isEmpty(anInterval.getDescription())?anInterval.getDescription():StringUtil.NBSP, intervalBGColor, 1))
						.append(&quot;&lt;/tr&gt;&quot;);

					//add to activity total for display
					m_activityTotal += anInterval.getDuration();
					break;
					*/
				}
			}
		}

<span class="fc" id="L211">		return aBuf.toString();</span>
	}

	public String getActivityTotalTime() {
<span class="fc" id="L215">		return m_localizer.formatDurationInMins(m_activityTotal);</span>
	}

	private String makeTDTag(String content, String bgColor, String textColor, int colspan){
<span class="fc" id="L219">		StringBuffer aBuf = new StringBuffer();</span>
<span class="fc" id="L220">		aBuf.append(&quot;&lt;td&quot;);</span>
<span class="fc bfc" id="L221" title="All 2 branches covered.">		if (colspan &gt; 1)</span>
<span class="fc" id="L222">			aBuf.append(&quot; colspan=&quot; + colspan);</span>
<span class="fc" id="L223">		aBuf.append(&quot; valign=\&quot;top\&quot; iscell=\&quot;true\&quot;&quot;);</span>
<span class="fc bfc" id="L224" title="All 2 branches covered.">		if (bgColor!=null){</span>
<span class="fc" id="L225">			aBuf.append( &quot; bgColor=\&quot;#&quot; + bgColor + &quot;\&quot;&quot;);</span>
<span class="fc" id="L226">			aBuf.append(&quot; class=\&quot;scheduleItemNoColor2\&quot;&quot;);</span>
<span class="pc bpc" id="L227" title="1 of 2 branches missed.">			if (textColor != null)</span>
<span class="fc" id="L228">				aBuf.append( &quot; style=\&quot;color:#&quot;+textColor + &quot;\&quot;&quot;);</span>
		} else {
<span class="fc" id="L230">         	aBuf.append(&quot; class=\&quot;tableItemNormal\&quot;&quot;);</span>
		}
<span class="fc" id="L232">		aBuf.append(&quot;&gt;&quot;)</span>
<span class="fc" id="L233">			.append(content)</span>
<span class="fc" id="L234">			.append(&quot;&lt;/td&gt;&quot;);</span>

<span class="fc" id="L236">		return aBuf.toString();</span>
	}

	private String mageStartShiftRow(String startTime){
    	//add start shift
<span class="fc" id="L241">		return &quot;&lt;tr&gt;&quot;</span>
<span class="fc" id="L242">			+ makeTDTag(startTime, null, null, 2)</span>
<span class="fc" id="L243">			+ makeTDTag(i18n(getBundle(), AmWebBundleKey.START_SHIFT), null, null, 5)</span>
			+ &quot;&lt;/tr&gt;&quot;;
	}

	public String getJavaScriptInitCode() {
<span class="fc" id="L248">		 StringBuffer jsInitCode = new StringBuffer(128);</span>

	        // Add sub-component JavaScript code first
<span class="fc" id="L251">	        jsInitCode.append(super.getJavaScriptInitCode());</span>
	        
<span class="fc" id="L253">	        String template = &quot;\nsetTimeout(\&quot;{0}.refreshPage()\&quot;,{1});\n\n&quot;;</span>
	            
<span class="fc" id="L255">            Object[] args = new Object[] {</span>
<span class="fc" id="L256">                getPageMediatorRef(),</span>
<span class="fc" id="L257">                Integer.toString(getRefreshRate() * 60000)</span>
                
            };
            
<span class="pc bpc" id="L261" title="1 of 2 branches missed.">            if (getRefreshRate() &gt; 0)</span>
<span class="nc" id="L262">                jsInitCode.append(MessageFormat.format(template, args));</span>
	        
<span class="fc" id="L264">	        return jsInitCode.toString();</span>
	}
	
	private void initRefreshRateComponent(){
<span class="fc" id="L268">		 m_refreshRateList = new ArrayList(7);</span>
<span class="fc" id="L269">        String minutes = i18n(m_bundle, AmWebBundleKey.ADHERENCE_MINUTES);</span>
<span class="fc" id="L270">        String noAutoRefresh = i18n(m_bundle, AmWebBundleKey.ADHERENCE_NO_REFRESH);</span>
<span class="fc" id="L271">        m_refreshRateList.add(new StringsPair(&quot;&quot;+NO_AUTO_REFRESH, noAutoRefresh));</span>
        //m_refreshRateList.add(new StringsPair(&quot;1&quot;, &quot;1 &quot; + minutes));
<span class="fc" id="L273">        m_refreshRateList.add(new StringsPair(&quot;5&quot;, &quot;5 &quot; + minutes));</span>
<span class="fc" id="L274">        m_refreshRateList.add(new StringsPair(&quot;10&quot;, &quot;10 &quot; + minutes));</span>
<span class="fc" id="L275">        m_refreshRateList.add(new StringsPair(&quot;15&quot;, &quot;15 &quot; + minutes));</span>
<span class="fc" id="L276">        m_refreshRateList.add(new StringsPair(&quot;30&quot;, &quot;30 &quot; + minutes));</span>
<span class="fc" id="L277">        m_refreshRateList.add(new StringsPair(&quot;45&quot;, &quot;45 &quot; + minutes));</span>
<span class="fc" id="L278">        m_refreshRateList.add(new StringsPair(&quot;60&quot;, &quot;60 &quot; + minutes));</span>
<span class="fc" id="L279">	}	</span>
	
	/**
     * The output of this method is added to the end of the HTML output, before the &lt;/form&gt; tag.
     * You can use it for placing hidden variables in the HTML.  
     */
    public String getRequiredHTML() 
    {
        //We need to add the refresh rate to the session to maintail selected value when the entire page is reloaded.
<span class="fc" id="L288">        m_context.setAttribute(RequestContext.SESSION_SCOPE, REFRESH_RATE_USER_PROPERTY_KEY, &quot;&quot;+m_refreshRate);</span>
        
        //We also add refresh rate as a hidden variable for when the page reloads (so as not to access session)
<span class="fc" id="L291">        return super.getRequiredHTML() +</span>
<span class="fc" id="L292">                HtmlUtil.makeHiddenInput(REFRESH_RATE_FN, m_refreshRate);</span>
    }
    
    public void setRefreshRate(int rate) 
    {
<span class="fc" id="L297">        m_refreshRate = rate;</span>
<span class="fc" id="L298">    }</span>
    
    public int getRefreshRate() 
    {
        /*if(m_refreshRate == REFRESH_RATE_NOT_SET) 
        {
            //If rate is not set, then try getting it from session. If not in session, then try getting 
            //it from the user profile. If not in profile, then just use the default refresh rate.
            String sRate = (String)m_context.getAttribute(RequestContext.SESSION_SCOPE, REFRESH_RATE_USER_PROPERTY_KEY);
            boolean isFromProfile = false;
            if (sRate == null)
            {
                sRate = m_context.getUserProperty(REFRESH_RATE_USER_PROPERTY_KEY);
                isFromProfile = true;
            }
            
            if (!StringUtil.isEmpty(sRate)) 
            {
                try 
                {
                    int rate = Integer.parseInt(sRate);
                    if ((rate &gt; 0) &amp;&amp; (isFromProfile))
                        rate /= 60;
                    m_refreshRate = getClosestValidRefreshRate(rate); 
                } 
                catch(NumberFormatException e) 
                {
                    m_refreshRate = DEFAULT_REFRESH_RATE;
                }
            }
            else 
            {
                m_refreshRate = DEFAULT_REFRESH_RATE;
            }
        }*/
<span class="fc" id="L333">    	String sRate = m_context.getUserProperty(REFRESH_RATE_USER_PROPERTY_KEY);</span>
    	//boolean isFromProfile = true;
<span class="pc bpc" id="L335" title="1 of 2 branches missed.">    	 if (!StringUtil.isEmpty(sRate)) </span>
         {
             try 
             {
<span class="nc" id="L339">                 int rate = Integer.parseInt(sRate);</span>
                 /*if ((rate &gt; 0) &amp;&amp; (isFromProfile))
                     rate /= 60;*/
<span class="nc" id="L342">                 m_refreshRate = getClosestValidRefreshRate(rate); </span>
             } 
<span class="nc" id="L344">             catch(NumberFormatException e) </span>
             {
<span class="nc" id="L346">                 m_refreshRate = DEFAULT_REFRESH_RATE;</span>
<span class="nc" id="L347">             }</span>
         }
         else 
         {
<span class="fc" id="L351">             m_refreshRate = DEFAULT_REFRESH_RATE;</span>
         }
    	
<span class="fc" id="L354">        return m_refreshRate;</span>
    }
    
    /**
     * Given an integer, find the closest refresh rate that we support
     * @param rate The desired refresh rate (in minutes)
     * @return the closest supported refresh rate (in minutes)
     */
    private int getClosestValidRefreshRate(int rate)
    {
<span class="nc bnc" id="L364" title="All 2 branches missed.">        if (rate &lt; 0) rate = NO_AUTO_REFRESH;</span>
        //else if (rate &lt; 5) rate = 1;
<span class="nc bnc" id="L366" title="All 2 branches missed.">        else if (rate &lt;= 5) rate = 5;</span>
<span class="nc bnc" id="L367" title="All 2 branches missed.">        else if (rate &lt;= 10) rate = 10;</span>
<span class="nc bnc" id="L368" title="All 2 branches missed.">        else if (rate &lt;= 15) rate = 15;</span>
<span class="nc bnc" id="L369" title="All 2 branches missed.">        else if (rate &lt;= 30) rate = 30;</span>
<span class="nc bnc" id="L370" title="All 2 branches missed.">        else if (rate &lt;= 45) rate = 45;</span>
<span class="nc bnc" id="L371" title="All 2 branches missed.">        else if (rate &lt;= 60) rate = 60;</span>
<span class="nc" id="L372">        else rate = NO_AUTO_REFRESH;        </span>
<span class="nc" id="L373">        return rate;</span>
    }
    
    public String getRefreshRateComponentHtml() 
    {
<span class="fc" id="L378">        initRefreshRateComponent();</span>
        
<span class="fc" id="L380">    	StringBuffer onClick = new StringBuffer(64);</span>
<span class="fc" id="L381">        onClick.append(getNamePrefix()).append(getName())</span>
<span class="fc" id="L382">            .append(&quot;.refreshPageWithAction('&quot;).append(CHANGE_REFRESH_RATE_ACTION).append(&quot;')&quot;);</span>

<span class="fc" id="L384">        StringBuffer sb = new StringBuffer(256);</span>
<span class="fc" id="L385">        sb.append(HtmlUtil.TBL_OPEN_TAG).append(&quot;&lt;tr&gt;&lt;td nowrap&gt;\n&quot;)</span>
<span class="fc" id="L386">            .append(&quot;&lt;span class=\&quot;headerText2\&quot; id=\&quot;&quot;)</span>
<span class="fc" id="L387">            .append(TIME_OF_DAY_FN)</span>
<span class="fc" id="L388">            .append(&quot;\&quot; style=\&quot;position:relative;\&quot;&gt;&lt;/span&gt;\n&quot;)</span>
<span class="fc" id="L389">            .append(&quot;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/td&gt;\n&quot;)</span>
<span class="fc" id="L390">            .append(&quot;&lt;td nowrap&gt;&quot;)</span>
<span class="fc" id="L391">            .append(&quot;&lt;span class=\&quot;headerText2\&quot;&gt;&quot;)            </span>
            
<span class="fc" id="L393">            .append(i18n(m_bundle, AmWebBundleKey.ADHERENCE_REFRESHRATE_TITLE))</span>
<span class="fc" id="L394">            .append(&quot;: &lt;/span&gt;&quot;)</span>
<span class="fc" id="L395">            .append(HtmlUtil.makeSelectInput(REFRESH_RATE_FN, Integer.toString(getRefreshRate()), onClick.toString(), m_refreshRateList))</span>
<span class="fc" id="L396">            .append(&quot;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/td&gt;&quot;)</span>
<span class="fc" id="L397">            .append(&quot;&lt;/tr&gt;\n&lt;/table&gt;\n&quot;);</span>

<span class="fc" id="L399">        return sb.toString();</span>
    }
    
    public boolean isMyTimeRecordModel(){
<span class="fc" id="L403">    	return true;</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.5.201505241946</span></div></body></html>