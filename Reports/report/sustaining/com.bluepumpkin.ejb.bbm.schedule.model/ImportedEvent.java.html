<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>ImportedEvent.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">QA Code Coverage</a> &gt; <a href="index.source.html" class="el_package">com.bluepumpkin.ejb.bbm.schedule.model</a> &gt; <span class="el_source">ImportedEvent.java</span></div><h1>ImportedEvent.java</h1><pre class="source lang-java linenums">package com.bluepumpkin.ejb.bbm.schedule.model;

/**
 * Title:        Blue Pumpkin Software Basic Business Model
 * Description:  Imported event defines a model event object imported from
 *               another workforce management application, such as Blue
 *               Pumpkin Director Enterprise
 * Copyright:    Copyright (c) 2001
 * Company:      Blue Pumpkin Software, inc
 * @author       Greg Fichtenholtz
 * @version 1.0
 */

import java.util.*;
import com.bluepumpkin.common.datatypes.*;
import com.bluepumpkin.ejb.bbm.vo.*;
import com.bluepumpkin.ejb.bbm.activity.model.Event;

<span class="nc" id="L19">public class ImportedEvent extends ValueObjectNode implements Event, Comparable {</span>
	/**
	 * 
	 */
	private static final long serialVersionUID = 1L;
	// meta data info.
<span class="nc" id="L25">	private static FieldInfo m_fieldInfo = new ImportedEventFields();</span>

	protected FieldInfo getFieldInfo() {
<span class="nc" id="L28">		return m_fieldInfo;</span>
	}

	/**
	 * Returns event type (see enumeration values in Event class). The unique
	 * key that identifies the event object is ID plus event type.
	 */
	public int getEventType() {
<span class="nc" id="L36">		return Event.EVENT_TYPE_IMPORTED;</span>
	}

	/**
	 * &lt;B&gt;getDescription&lt;/B&gt;
	 * &lt;P&gt;
	 * 
	 * @return String description of event
	 */
	public String getDescription() {
<span class="nc" id="L46">		return getFormattedFieldValue(ImportedEventFields.EVENT_DESCRIPTION);</span>
	}

	/** sets the event description */
	public void setDescription(String strDescription) {
<span class="nc" id="L51">		setFieldValue(ImportedEventFields.EVENT_DESCRIPTION, strDescription);</span>
<span class="nc" id="L52">	}</span>

	/**
	 * &lt;B&gt;isLocked&lt;/B&gt;
	 * &lt;P&gt;
	 * 
	 * @return boolean - is this event locked for editing?
	 */
	public boolean isLocked() {
<span class="nc" id="L61">		return getFieldValueBoolean(ImportedEventFields.EVENT_ISLOCKED);</span>
	}

	/** sets the locked attribute for this event */
	public void setLocked(boolean bLocked) {
<span class="nc" id="L66">		setFieldValue(ImportedEventFields.EVENT_ISLOCKED, bLocked);</span>
<span class="nc" id="L67">	}</span>

	/**
	 * &lt;B&gt;getStartTime&lt;/B&gt;
	 * &lt;P&gt;
	 * 
	 * @return Date - event start time
	 */
	public Date getStartTime() {
<span class="nc" id="L76">		return getFieldValueDate(ImportedEventFields.EVENT_STARTTIME);</span>
	}

	/** sets the start time for this event */
	public void setStartTime(Date startTime) {
<span class="nc" id="L81">		setFieldValue(ImportedEventFields.EVENT_STARTTIME, startTime);</span>
<span class="nc" id="L82">	}</span>

	/**
	 * &lt;B&gt;getEndTime&lt;/B&gt;
	 * &lt;P&gt;
	 * 
	 * @return Date - event end time
	 */
	public Date getEndTime() {
<span class="nc" id="L91">		return new Date(getStartTime().getTime() + getDuration() * ShiftAssignment.MILLIS_IN_ONE_MIN);</span>
	}

	/**
	 * &lt;B&gt;getDuration&lt;/B&gt;
	 * &lt;P&gt;
	 * 
	 * @return int - duration (in minutes) of the event
	 */
	public int getDuration() {
<span class="nc" id="L101">		return getFieldValueInt(ImportedEventFields.EVENT_DURATION);</span>
	}

	/** sets the event duration (in minutes) */
	public void setDuration(int nMinutes) {
<span class="nc" id="L106">		setFieldValue(ImportedEventFields.EVENT_DURATION, nMinutes);</span>
<span class="nc" id="L107">	}</span>

	/**
	 * &lt;B&gt;getActivityID&lt;/B&gt;
	 * &lt;P&gt;
	 * 
	 * @return the unique ID of this event's activity
	 */
	public ID getActivityID() {
<span class="nc" id="L116">		return (ID) getFieldValue(ImportedEventFields.EVENT_ACTIVITYID);</span>
	}

	/** sets the activity ID for this event */
	public void setActivityID(ID activityID) {
<span class="nc" id="L121">		setFieldValue(ImportedEventFields.EVENT_ACTIVITYID, activityID);</span>
<span class="nc" id="L122">	}</span>

	/**
	 * &lt;B&gt;getParentID&lt;/B&gt;
	 * &lt;P&gt;
	 * 
	 * @return Event - event parent event
	 */
	public ID getParentID() {
<span class="nc" id="L131">		return (ID) getFieldValue(ImportedEventFields.EVENT_PARENTEVENTID);</span>
	}

	public void setParentID(ID parentID) {
<span class="nc" id="L135">		setFieldValue(ImportedEventFields.EVENT_PARENTEVENTID, parentID);</span>
<span class="nc" id="L136">	}</span>

	/**
	 * &lt;B&gt;getChildren&lt;/B&gt;
	 * &lt;P&gt;
	 * 
	 * @return Collection - child events
	 */
	public Collection getChildren() {
<span class="nc" id="L145">		return getChildObjects(ImportedEventFields.CHILD_EVENT);</span>
	}

	/**
	 * &lt;B&gt;getWorkResources&lt;/B&gt;
	 * &lt;P&gt;
	 * 
	 * @return Collection of assigned work resources
	 */
	public Collection getWorkResourceIDs() {
<span class="nc" id="L155">		ID id = (ID) getFieldValue(ImportedEventFields.EVENT_WORKRESOURCEID);</span>
<span class="nc bnc" id="L156" title="All 2 branches missed.">		return (id == null ? Collections.emptyList() : Collections.singletonList(id));</span>
	}

	/** adds a work resource ID that &quot;has&quot; this event */
	public void addWorkResourceID(ID workResourceID) {
		// now this is a hack - the Event interface allows for multiple
		// workresources for a single event, whereas the imported event object
		// can only handle a single workresource per event. So in essence, we
		// always emulate a collection of workresource consisting of a single
		// item. Hence, an &quot;add&quot; operation becomes a &quot;replace&quot; operation.
<span class="nc" id="L166">		setFieldValue(ImportedEventFields.EVENT_WORKRESOURCEID, workResourceID);</span>
<span class="nc" id="L167">	}</span>

	/** removes a work resource ID from the set of IDs that &quot;has&quot; this event */
	public void removeWorkResourceID(ID workResourceID) {
<span class="nc" id="L171">		setFieldNull(ImportedEventFields.EVENT_WORKRESOURCEID);</span>
<span class="nc" id="L172">	}</span>

	/**
	 * &lt;B&gt;getOverlayPrecedence&lt;/B&gt; the precedence is an integer value,&lt;br&gt;
	 * with a higher value being a higher precedence&lt;br&gt;
	 * and 0 being lowest.
	 * &lt;p&gt;
	 * if there are several overlaying events this value is used to &lt;br&gt;
	 * determine which event takes precedence&lt;br&gt;
	 * &lt;P&gt;
	 * 
	 * @return int value of precedence
	 */
	public int getOverlayPrecedence() {
<span class="nc" id="L186">		return getFieldValueShort(ImportedEventFields.EVENT_PRECEDENCE);</span>
	}

	/** sets the overlay precedence for this event */
	public void setOverlayPrecedence(int precedence) {
<span class="nc" id="L191">		setFieldValue(ImportedEventFields.EVENT_PRECEDENCE, (short) precedence);</span>
<span class="nc" id="L192">	}</span>

	public Date getImportTime() {
<span class="nc" id="L195">		return getFieldValueDate(ImportedEventFields.EVENT_IMPORTTIME);</span>
	}

	public void setImportTime(Date dtImportTime) {
<span class="nc" id="L199">		setFieldValue(ImportedEventFields.EVENT_IMPORTTIME, dtImportTime);</span>
<span class="nc" id="L200">	}</span>

	public String getImportSource() {
<span class="nc" id="L203">		return getFormattedFieldValue(ImportedEventFields.EVENT_IMPORTSRC);</span>
	}

	public void setImportSource(String strSource) {
<span class="nc" id="L207">		setFieldValue(ImportedEventFields.EVENT_IMPORTSRC, strSource);</span>
<span class="nc" id="L208">	}</span>

	public int getMinsTowardsMinMax() {
<span class="nc" id="L211">		return getFieldValueInt(ImportedEventFields.EVENT_MINSTOWARDSMINMAX);</span>
	}

	public void setMinsTowardsMinMax(int nMins) {
<span class="nc" id="L215">		setFieldValue(ImportedEventFields.EVENT_MINSTOWARDSMINMAX, nMins);</span>
<span class="nc" id="L216">	}</span>

	/**
	 * &lt;B&gt;isPaid&lt;/B&gt;
	 * 
	 * @return boolean which indicates whether or not this is a paid event
	 */
	public boolean getPaid() {
<span class="nc" id="L224">		return getFieldValueBoolean(ImportedEventFields.EVENT_ISPAID);</span>
	}

	/**
	 * &lt;B&gt;setPaid&lt;/B&gt;
	 */
	public void setPaid(boolean bPaid) {
<span class="nc" id="L231">		setFieldValue(ImportedEventFields.EVENT_ISPAID, bPaid);</span>
<span class="nc" id="L232">	}</span>

	/**
	 * compare two events based on their start time
	 */
	public int compareTo(Object o) {
<span class="nc" id="L238">		Event item2 = (Event) o;</span>

<span class="nc" id="L240">		long lDateDiff = getStartTime().getTime() - item2.getStartTime().getTime();</span>

<span class="nc bnc" id="L242" title="All 2 branches missed.">		if (lDateDiff &lt; 0) {</span>
<span class="nc" id="L243">			return -1;</span>
		}
<span class="nc bnc" id="L245" title="All 2 branches missed.">		if (lDateDiff &gt; 0) {</span>
<span class="nc" id="L246">			return 1;</span>
		}
<span class="nc" id="L248">		return 0;</span>
	}
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.5.201505241946</span></div></body></html>