<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>SkillExportPageModel.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">QA Code Coverage</a> &gt; <a href="index.source.html" class="el_package">com.bluepumpkin.web.bbm.organization.setup.skill</a> &gt; <span class="el_source">SkillExportPageModel.java</span></div><h1>SkillExportPageModel.java</h1><pre class="source lang-java linenums">package com.bluepumpkin.web.bbm.organization.setup.skill;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.Collection;
import java.util.HashMap;
import java.util.Iterator;
import java.util.ResourceBundle;
import javax.servlet.http.HttpServletResponse;

import com.bluepumpkin.common.datatypes.ID;
import com.bluepumpkin.common.datatypes.StringsPair;
import com.bluepumpkin.common.logging.Category;
import com.bluepumpkin.ejb.bbm.workresource.OrganizationScopeManagerProxy;
import com.bluepumpkin.ejb.bbm.workresource.model.Organization;
import com.bluepumpkin.web.bbm.Log;
import com.bluepumpkin.web.bbm.l10n.BbmWebBundleKey;
import com.bluepumpkin.web.bbm.l10n.BbmWebLogBundleKey;
import com.bluepumpkin.web.bbm.organization.selection.OrganizationSelectorPC;
import com.bluepumpkin.web.bbm.organization.tree.OrganizationTreePC;
import com.bluepumpkin.web.core.pagemodel.PopupDialogPageModel;
import com.bluepumpkin.web.core.setup.mediatypes.MediaTypesSetupModelHandler;
import com.witness.ejb.core.security.PrivilegeKeys;
import com.witness.web.uif.base.Message;
import com.witness.web.uif.keys.JavaScriptFileID;
import com.witness.web.uif.keys.PageAction;
import com.witness.web.uif.l10n.UIFWebBundleKey;
import com.witness.web.uif.pagecomponent.form.FormTwoColumnPC;
import com.witness.web.uif.pagecomponent.toolbar.ToolbarPC;
import com.witness.web.uif.pagecomponent.toolbar.ToolbarTextButton;
import com.witness.web.uif.system.RequestContext;
import com.witness.web.uif.util.HtmlUtil;
import com.witness.web.uif.util.NetworkUtil;
import com.bluepumpkin.web.bbm.skill.SkillModelHandler;
import com.bluepumpkin.ejb.bbm.skill.model.Skill;
import com.witness.ejb.core.mediatypes.model.MediaType;

/**
 * Title:        SkillExportPageModel
 * Description:  Model for selecting Orgs to export Skills from.
 * Copyright:    Copyright (c) 2010
 * Company:      Verint, inc
 * @author       Gonzalo Quintanar
 */
public class SkillExportPageModel extends PopupDialogPageModel 
{
    //Misc. Constants
    public static final String DOWNLOAD_SUCCESS = &quot;DOWNLOAD_SUCCESS&quot;;
    public static final String POPUP_JSFUNCTION = &quot;POPUP_JSFUNCTION&quot;;
<span class="fc" id="L50">    private static Category log = Log.initCategory(SkillExportPageModel.class.getName());</span>

    //Form fields
    public static final String DELIMITER_FN = &quot;delimiter&quot;;

    //Hidden fields
    public static final String SELECTED_ORG_ID_FN = &quot;selectedOrgID&quot;;
    
    //Page Components
    private FormTwoColumnPC m_formPC;
    private OrganizationTreePC m_orgTreePC;

    //Misc. member variables
    protected ResourceBundle m_bbmBundle;
<span class="nc" id="L64">    private boolean m_isInitiated = false;</span>
<span class="nc" id="L65">    private boolean m_initFailure = false;</span>
<span class="nc" id="L66">    private ID m_selectedOrgID = Organization.YOUR_COMPANY_ID_OBJ;</span>
<span class="nc" id="L67">    private String m_delimiter = &quot;tab&quot;;</span>
    
    //Collections    
<span class="nc" id="L70">    private HashMap m_MediaIdNameMap = new HashMap(9); //map containing all Media.SID -&gt; Media.Name</span>
    
    /**
     * Constructor
     */
    public SkillExportPageModel(RequestContext context) {
<span class="nc" id="L76">        super(context, true);</span>

<span class="nc" id="L78">        m_bbmBundle = m_localizer.getBundle(BbmWebBundleKey.BUNDLE_NAME);</span>

        // Initialize Form PC
<span class="nc" id="L81">        m_formPC = new FormTwoColumnPC(context);</span>
<span class="nc" id="L82">        addChildComponent(m_formPC);</span>

        // Initialize Organization Tree
<span class="nc" id="L85">        m_orgTreePC = new OrganizationTreePC(m_context);</span>
<span class="nc" id="L86">        addChildComponent(m_orgTreePC);</span>

        //--- Add Toolbar
<span class="nc" id="L89">        m_toolbar = new ToolbarPC(context);</span>
<span class="nc" id="L90">        addChildComponent(m_toolbar);</span>
<span class="nc" id="L91">    }</span>

    /**
     * Return instance of Model which is ready to be rendered
     */
    public static SkillExportPageModel getInstance(RequestContext context) {
<span class="nc" id="L97">        SkillExportPageModel model = (SkillExportPageModel) context.getPageModel();</span>
<span class="nc bnc" id="L98" title="All 2 branches missed.">        if (model == null) {</span>
            //create a new model
<span class="nc" id="L100">            model = new SkillExportPageModel(context);</span>
<span class="nc" id="L101">            context.setPageModel(model);</span>
        }
<span class="nc" id="L103">        model.populateModel();</span>

<span class="nc" id="L105">        return model;</span>
    }

    /**
     * Initialize Component For Display
     */
    public void initForDisplay() {
<span class="nc bnc" id="L112" title="All 2 branches missed.">        if (m_isInitializedForDisplay)</span>
        {
<span class="nc" id="L114">            return;</span>
        }
        else 
        {
<span class="nc" id="L118">            super.initForDisplay();</span>

            // Component specific required JavaScript Files
<span class="nc" id="L121">            addRequiredJavaScriptFile(JavaScriptFileID.MEDIATOR_WORKPANE_GENERIC);</span>
            
<span class="nc" id="L123">            addGenericHTML(HtmlUtil.makeHiddenInput(OrganizationSelectorPC.PUBLICLY_ACCESSIBLE_FN, m_orgTreePC.isPubliclyAccessible()));</span>
            
<span class="nc" id="L125">            addJSVariable(&quot;SELECT_AN_ORG&quot;, m_bbmBundle, BbmWebBundleKey.ORGANIZATION_GENERAL_SELECT_ORG_MSG);</span>
        }
<span class="nc" id="L127">    }</span>

    /**
     * Return the HTML for this Page Model
     */
    public String getHtmlDisplay()
    {
<span class="nc" id="L134">        StringBuffer aBuf = new StringBuffer();</span>
<span class="nc" id="L135">        aBuf.append(m_formPC);</span>
<span class="nc" id="L136">        aBuf.append(m_orgTreePC.getHtmlDisplay());</span>
<span class="nc" id="L137">        return aBuf.toString();</span>
    }

    /**
     * Make sure that the model is populated
     */
    private void populateModel() 
    {
<span class="nc bnc" id="L145" title="All 2 branches missed.">        if (m_isInitiated) </span>
<span class="nc" id="L146">            return; </span>
        else 
<span class="nc" id="L148">            m_isInitiated = true;</span>
        
<span class="nc" id="L150">        initTitle();</span>
<span class="nc" id="L151">        initForm();</span>
<span class="nc" id="L152">        initToolbar();</span>
<span class="nc" id="L153">    }</span>

    /**
     * Prepare content title for rendering
     */
    private void initTitle() {
<span class="nc" id="L159">        m_contentTitlePC.setPageTitle(i18n(m_bbmBundle,</span>
                BbmWebBundleKey.EXPORT_SKILLS));
<span class="nc" id="L161">    }</span>

    /**
     * Initialize Form Display
     */
    protected void initForm() 
    {
        try 
        {
            //populate upper part
<span class="nc" id="L171">            populateSelection();</span>
            
            //initialize organization tree
<span class="nc" id="L174">            m_orgTreePC.init();</span>
        } 
<span class="nc" id="L176">        catch (Exception ex) </span>
        {
<span class="nc" id="L178">            handleUnableToLoadDataError(log, ex);</span>
        }
        finally 
        {
<span class="nc" id="L182">            m_orgTreePC.setMultiRowSelectable(true);</span>
<span class="nc" id="L183">        }</span>
        
<span class="nc bnc" id="L185" title="All 2 branches missed.">        if (!m_initFailure) </span>
        {
<span class="nc" id="L187">            setSubmitString(i18n(m_bbmBundle, BbmWebBundleKey.SHIFT_SET));</span>
        }
<span class="nc" id="L189">    }</span>

    private void populateSelection() 
    {
<span class="nc" id="L193">        m_formPC.setTitle(i18n(m_bbmBundle, BbmWebBundleKey.FileSetup));</span>
<span class="nc" id="L194">        m_formPC.setCssClasses(&quot;formRowDark40&quot;, &quot;formRowLight60&quot;);</span>
        
        //append delimiter picker
<span class="nc" id="L197">        m_formPC.addRow(i18n(m_bbmBundle, BbmWebBundleKey.Delimiter),</span>
<span class="nc" id="L198">                getDelimiterDropDown());</span>
<span class="nc" id="L199">    }</span>
    
    /**
     * Initialize Toolbar
     */
    protected void initToolbar() 
    {
<span class="nc" id="L206">        m_toolbar.setAlignment(ToolbarPC.ALIGN_RIGHT);</span>
        
        //Export Button
<span class="nc" id="L209">        String downloadLbl = i18n(m_bbmBundle, BbmWebBundleKey.Export);</span>
<span class="nc" id="L210">        ToolbarTextButton aButton0 = new ToolbarTextButton(m_toolbar, &quot;POPUP_JSFUNCTION&quot;, downloadLbl, true);</span>
<span class="nc" id="L211">        aButton0.getButtonTable().setAttribute(&quot;jsFunction&quot;, &quot;handleDownload();&quot;);</span>
<span class="nc" id="L212">        m_toolbar.addToolbarElement(aButton0);        </span>
        //m_toolbar.addDownloadTextButton(&quot;DOWNLOAD&quot;, downloadLbl, true);
        
        
        //Done Button
<span class="nc" id="L217">        String doneLabel = i18n(m_bbmBundle, BbmWebBundleKey.PEOPLE_ROLE_EDIT_DONE_ACTION);</span>
<span class="nc" id="L218">        ToolbarTextButton doneTextButton2 = new ToolbarTextButton(m_toolbar,  &quot;POPUP_JSFUNCTION&quot;, doneLabel, true);</span>
<span class="nc" id="L219">        doneTextButton2.getButtonTable().setAttribute(&quot;jsFunction&quot;, &quot;handleDone();&quot;);</span>
<span class="nc" id="L220">        m_toolbar.addToolbarElement(doneTextButton2); </span>
<span class="nc" id="L221">    }</span>
    
    // Setters &amp; Getters
    public void setDelimiter(String delimiter)
    {
<span class="nc" id="L226">        m_delimiter = delimiter;</span>
<span class="nc" id="L227">    }</span>
    
    public String getDelimiter()
    {
<span class="nc" id="L231">        return m_delimiter;</span>
    }
    
    public ID[] getSelectedOrgIDs()
    {
<span class="nc" id="L236">        return m_orgTreePC.getCheckedID();</span>
    }

    /**
     * Downloads the Skills data for the selected orgs from the Export Dialog.
     * @throws Exception
     */
    public void processDownload(RequestContext context)
            throws Exception 
    {
<span class="nc" id="L246">        String pageAction = PageAction.EXPORT;</span>
        
        try 
        {
            //Get the ID's selected by the user to export
<span class="nc" id="L251">            ID[] ids = getSelectedOrgIDs();</span>
            
            //Make sure the user selected an org            
<span class="nc bnc" id="L254" title="All 4 branches missed.">            if (ids == null || ids.length==0)</span>
            {
<span class="nc" id="L256">                addPageMessage(Message.ERROR_TYPE, BbmWebBundleKey.ORGANIZATION_GENERAL_SELECT_ORG_MSG, BbmWebBundleKey.BUNDLE_NAME);</span>
<span class="nc" id="L257">                return;</span>
            }
            
            //Make sure the user has view privilege for the selected orgs.
            //We do this before preparing the output stream in order to be able to 
            //show the page message in the Export dialog. If we do it after preparing
            //the output stream, it will be too late to refresh the Export dialog. Once
            //we set the output type, we cannot change it back.
<span class="nc bnc" id="L265" title="All 2 branches missed.">            for (int i=0; i&lt;ids.length; i++)</span>
            {
<span class="nc bnc" id="L267" title="All 2 branches missed.">                if (!isAuthorizedToView(ids[i]))</span>
                {
<span class="nc" id="L269">                    addPageMessage(Message.ERROR_TYPE, BbmWebBundleKey.NOT_AUTHORIZED_TO_VIEW_SELECTED_ORG, BbmWebBundleKey.BUNDLE_NAME);</span>
<span class="nc" id="L270">                    return;</span>
                }
            }

            //Prepare the maps which we need in order export the Skills data.
<span class="nc" id="L275">            prepareMapsForExport();</span>
            
            //Generate the string of exported skill data
<span class="nc" id="L278">            String downloadData = generateDownloadData(context, ids);</span>
            
            //Finally, output the data as a file to the servlet response so browser can save/display it
<span class="nc" id="L281">            sendExportStringToOutputStream(context, downloadData);</span>

<span class="nc" id="L283">            this.setPageAction(DOWNLOAD_SUCCESS);</span>
        } 
<span class="nc" id="L285">        catch (Exception ex) </span>
        {
<span class="nc bnc" id="L287" title="All 2 branches missed.">            if (!pageAction.equals(DOWNLOAD_SUCCESS))</span>
            {
<span class="nc" id="L289">                log.l7dError(BbmWebLogBundleKey.UNABLE_TO_SAVE_DATA, ex);</span>
<span class="nc" id="L290">                addPageMessage(Message.ERROR_TYPE, BbmWebLogBundleKey.UNABLE_TO_SAVE_DATA, BbmWebBundleKey.BUNDLE_NAME);</span>
                //throw ex;
            }
<span class="nc" id="L293">        }</span>
<span class="nc" id="L294">    }</span>
    
    /**
     * Output the data as a file to the servlet response so browser can save/display it.
     * You must call prepareMapsForExport() prior to calling this method.
     */
    private void sendExportStringToOutputStream(RequestContext context, String downloadData)
        throws Exception
    {
<span class="nc" id="L303">        HttpServletResponse response = context.getResponse();</span>
<span class="nc" id="L304">        String exportFileNameDefault = m_localizer.i18n(m_bbmBundle,BbmWebBundleKey.SkillsFileNameDefault);</span>
<span class="nc" id="L305">        String charset = m_localizer.i18n(UIFWebBundleKey.BUNDLE_NAME, UIFWebBundleKey.CHARSET);</span>
<span class="nc" id="L306">        NetworkUtil.initResponseForDownload(context.getResponse(), exportFileNameDefault, charset);</span>
<span class="nc" id="L307">        response.getWriter().write(downloadData);</span>
<span class="nc" id="L308">        response.flushBuffer();</span>
<span class="nc" id="L309">    }</span>
    
    /**
     * Generate the String of data that needs to be exported as a file.
     * @param context - the request context
     * @param ids - an array of the organization ID's that need to be exported
     */
    public String generateDownloadData(RequestContext context, ID[] ids)
        throws Exception
    {
        try
        {
<span class="nc" id="L321">            StringBuffer aBuf = new StringBuffer();</span>
<span class="nc bnc" id="L322" title="All 2 branches missed.">            String delimiter = m_delimiter.equals(&quot;tab&quot;)?&quot;\t&quot; : m_delimiter;</span>
            
            //Append column headers to the export string
<span class="nc" id="L325">            aBuf.append(m_localizer.i18n(m_bbmBundle,BbmWebBundleKey.ORG_SKILL_NAME) + delimiter</span>
<span class="nc" id="L326">                        + m_localizer.i18n(m_bbmBundle,BbmWebBundleKey.ORG_SKILL_MEDIA_TYPE_LABEL) + delimiter</span>
<span class="nc" id="L327">                        + m_localizer.i18n(m_bbmBundle,BbmWebBundleKey.ORG_SKILL_DESC_LABEL) + delimiter</span>
<span class="nc" id="L328">                        + m_localizer.i18n(m_bbmBundle,BbmWebBundleKey.DATASOURCE_ORGANIZATION_NAME) + &quot;\r\n&quot;);</span>
            
            //Get all of the Skills which are visible to the list of orgs
<span class="nc" id="L331">            Collection skills = SkillModelHandler.getAvailableSkillsInOrg(context, Arrays.asList(ids));</span>

            //append each skill's properties to the export string
<span class="nc bnc" id="L334" title="All 2 branches missed.">            for (Iterator skillsIt=skills.iterator(); skillsIt.hasNext();)</span>
            {
<span class="nc" id="L336">                Skill skill = (Skill)skillsIt.next();</span>
<span class="nc" id="L337">                aBuf.append(skill.getName()).append(delimiter);</span>
<span class="nc" id="L338">                aBuf.append(m_MediaIdNameMap.get(</span>
<span class="nc" id="L339">                        Skill.convertStr2MediaID(skill.getMediaID().toString()))).append(delimiter);</span>
<span class="nc" id="L340">                aBuf.append(skill.getDescription()).append(delimiter);</span>
<span class="nc" id="L341">                aBuf.append(skill.getOrganizationName());</span>
<span class="nc" id="L342">                aBuf.append(&quot;\r\n&quot;);</span>
<span class="nc" id="L343">            }</span>
<span class="nc" id="L344">            return aBuf.toString();</span>
        } 
<span class="nc" id="L346">        catch (Exception ex)</span>
        {
<span class="nc" id="L348">            throw ex;</span>
        }
    }
    
    /**
     * Prepare any maps that we need in order to perform the download.
     * m_MediaIdNameMap: media.SID -&gt; media.Name
     */
    private void prepareMapsForExport() throws Exception
    {
        //Get all the Media types in the system
<span class="nc" id="L359">        Collection allMediaTypes = MediaTypesSetupModelHandler.getAllMediaTypes();</span>
<span class="nc bnc" id="L360" title="All 4 branches missed.">        if (allMediaTypes != null &amp;&amp; allMediaTypes.size()&gt;0)</span>
        {
<span class="nc bnc" id="L362" title="All 2 branches missed.">            for (Iterator it=allMediaTypes.iterator(); it.hasNext();)</span>
            {
<span class="nc" id="L364">                MediaType media = (MediaType)it.next();</span>
<span class="nc" id="L365">                m_MediaIdNameMap.put(media.getSID(), media.getName());</span>
<span class="nc" id="L366">            }</span>
        }
<span class="nc" id="L368">    }</span>
    
    /**
     * Return the DropDown display of data delimitter types.
     */
    private String getDelimiterDropDown() 
    {
<span class="nc" id="L375">        Collection delimiterStringsPair = new ArrayList();</span>

<span class="nc" id="L377">        delimiterStringsPair.add(new StringsPair(&quot;tab&quot;,</span>
<span class="nc" id="L378">                i18n(m_bbmBundle, BbmWebBundleKey.ImportTab)));</span>
<span class="nc" id="L379">        delimiterStringsPair.add(new StringsPair(&quot;,&quot;,</span>
<span class="nc" id="L380">                i18n(m_bbmBundle, BbmWebBundleKey.ImportComma)));</span>
<span class="nc" id="L381">        delimiterStringsPair.add(new StringsPair(&quot;;&quot;,</span>
<span class="nc" id="L382">                i18n(m_bbmBundle, BbmWebBundleKey.ImportSemiColon)));</span>

<span class="nc" id="L384">        return HtmlUtil.makeSelectInput(DELIMITER_FN, &quot;&quot;, &quot;&quot;, delimiterStringsPair);</span>
    }

    /**
     * Return URL for HTML Form Action
     */
    public String getFormAction() {
<span class="nc" id="L391">        return &quot;skills_export&quot;;</span>
    }
    
    /**
     * Return true if Current User is authorized to view specified Organization
     */
    protected boolean isAuthorizedToView(ID orgID) 
    {
<span class="nc" id="L399">        return m_context.getUser().isAuthorized(PrivilegeKeys.CORE_VIEWSKILLS,</span>
<span class="nc" id="L400">                OrganizationScopeManagerProxy.getScopeID(orgID));</span>
    }
    
    public String getCustomJavaScript()
    {
<span class="nc" id="L405">        StringBuffer sb = new StringBuffer();</span>
        
<span class="nc" id="L407">        sb.append(&quot;function handleDownload() \n{&quot;);</span>
<span class="nc" id="L408">        sb.append(&quot;\n    if (!validateForm(document.oFormMain))&quot;);        </span>
<span class="nc" id="L409">        sb.append(&quot;\n        return false;&quot;);        </span>
<span class="nc" id="L410">        sb.append(&quot;\n    document.oFormMain.pageAction.value = \&quot;&quot; + PageAction.DOWNLOAD + &quot;\&quot;;&quot;);        </span>
<span class="nc" id="L411">        sb.append(&quot;\n    document.oFormMain.submit();&quot;);        </span>
<span class="nc" id="L412">        sb.append(&quot;\n}\n&quot;);        </span>
        
<span class="nc" id="L414">        sb.append(&quot;function handleDone() \n{&quot;);</span>
<span class="nc" id="L415">        sb.append(&quot;\n    document.oFormMain.pageAction.value = \&quot;&quot; + PageAction.DONE + &quot;\&quot;;&quot;);        </span>
<span class="nc" id="L416">        sb.append(&quot;\n    document.oFormMain.submit();&quot;);        </span>
<span class="nc" id="L417">        sb.append(&quot;\n}\n&quot;);        </span>
        
<span class="nc" id="L419">        sb.append(&quot;function customValidateForm() {\n&quot;);</span>
<span class="nc" id="L420">        sb.append(&quot;    if (! orgTree.hasInputValues()) {\n&quot;);</span>
<span class="nc" id="L421">        sb.append(&quot;        alert(SELECT_AN_ORG);\n&quot;);</span>
<span class="nc" id="L422">        sb.append(&quot;        return false;\n&quot;);</span>
<span class="nc" id="L423">        sb.append(&quot;    }\n&quot;);</span>
<span class="nc" id="L424">        sb.append(&quot;    return true;\n&quot;);</span>
<span class="nc" id="L425">		sb.append(&quot;}\n&quot;);</span>
        
<span class="nc" id="L427">        return sb.toString();        </span>
    }
    
    /**
     * Return Required HTML for this component
     */
    public String getRequiredHTML() 
    {
<span class="nc" id="L435">        return super.getRequiredHTML() +</span>
<span class="nc" id="L436">            HtmlUtil.makeHiddenInput(SELECTED_ORG_ID_FN, getSelectedOrgID());</span>
    }
    
    /**
     * Get the ID of the organization that is selected in the org list of the parent window.
     * @return
     */
    public ID getSelectedOrgID()
    {
<span class="nc" id="L445">        return m_selectedOrgID;</span>
    }
    
    /**
     * Set the ID of the organization that is selected in the org list of the parent window.
     * @return
     */
    public void setSelectedOrgID(String id)
    {
<span class="nc bnc" id="L454" title="All 4 branches missed.">        if (id != null &amp;&amp; id.length()!=0)</span>
<span class="nc" id="L455">            m_selectedOrgID = new ID(id);</span>
<span class="nc" id="L456">    }</span>
    
    /**
     * If true: indicates the organization selector is used in a publicly accessible page.
     * If false: the selector will be enabled or disabled based on logged in user's privileges.
     * @return
     */
    public boolean isPubliclyAccessible() {
<span class="nc" id="L464">        return m_orgTreePC.isPubliclyAccessible();</span>
    }

    /**
     * Passing true to this method: indicates that the organization selector is used in publicly accessible 
     * page (ex: self identification).
     * Passing false to this method: indicates that the organization selector is used in an authenticated
     * page. 
     * By default this flag is set to false. The selector will be enabled only if the logged in user has 
     * reqired privileges.
     * @param isInUnAuthenticatedPage
     */
    public void setIsPubliclyAccessible(boolean isInUnAuthenticatedPage) {
<span class="nc" id="L477">        m_orgTreePC.setIsPubliclyAccessible(isInUnAuthenticatedPage);</span>
<span class="nc" id="L478">    }</span>
    
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.5.201505241946</span></div></body></html>