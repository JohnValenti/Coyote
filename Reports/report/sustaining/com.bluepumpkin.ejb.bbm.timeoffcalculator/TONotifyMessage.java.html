<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>TONotifyMessage.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">QA Code Coverage</a> &gt; <a href="index.source.html" class="el_package">com.bluepumpkin.ejb.bbm.timeoffcalculator</a> &gt; <span class="el_source">TONotifyMessage.java</span></div><h1>TONotifyMessage.java</h1><pre class="source lang-java linenums">package com.bluepumpkin.ejb.bbm.timeoffcalculator;

import java.util.ArrayList;
import java.util.Collection;
import java.util.Collections;
import java.util.Date;
import java.util.Random;

import javax.jms.ObjectMessage;
import javax.jms.Queue;
import javax.jms.QueueConnection;
import javax.jms.QueueConnectionFactory;
import javax.jms.QueueSender;
import javax.jms.QueueSession;
import javax.jms.Session;
import javax.naming.Context;
import javax.naming.InitialContext;

import com.bluepumpkin.common.datatypes.ID;
import com.bluepumpkin.common.jdmo.Jdmo;
import com.bluepumpkin.common.jdmo.JdmoException;
import com.bluepumpkin.common.util.CollectionUtil;
import com.bluepumpkin.common.util.JMSMessageBase;
import com.bluepumpkin.ejb.bbm.BbmManagerFactory;
import com.bluepumpkin.ejb.bbm.JNDINames;
import com.bluepumpkin.ejb.bbm.base.BbmUpdateException;
import com.bluepumpkin.ejb.bbm.config.ConfigKey;
import com.bluepumpkin.ejb.bbm.schedule.model.ScheduleChangeDetails;
import com.verint.ejb.wfm.ITimeOffNotifyMessage;

/**
 * Title: Description: Copyright: Copyright (c) 2007 Company: Verint, Inc
 *
 * @author
 * @version 1.0
 */

public class TONotifyMessage extends JMSMessageBase implements ITimeOffNotifyMessage {

	private static final long serialVersionUID = 1L;

	public static final int TO_NOTIFY_REF_SCHEDULE_CHANGE = 21;

<span class="nc" id="L44">	private static final String[] MSG_TYPES = new String[22];</span>

	static {
<span class="nc" id="L47">		MSG_TYPES[0] = &quot;TO_NOTIFY_GENERIC_WAITLIST_MSG&quot;;</span>
<span class="nc" id="L48">		MSG_TYPES[1] = &quot;TO_NOTIFY_ORG_HOO_CHANGE&quot;;</span>
<span class="nc" id="L49">		MSG_TYPES[2] = &quot;TO_NOTIFY_EMP_ORG_CHANGE&quot;;</span>
<span class="nc" id="L50">		MSG_TYPES[3] = &quot;TO_NOTIFY_EMP_UNAVAIL_CHANGE&quot;;</span>
<span class="nc" id="L51">		MSG_TYPES[4] = &quot;TO_NOTIFY_HOLIDAY_CHANGE&quot;;</span>
<span class="nc" id="L52">		MSG_TYPES[5] = &quot;TO_NOTIFY_SCHED_PUBLISH&quot;;</span>
<span class="nc" id="L53">		MSG_TYPES[6] = &quot;TO_NOTIFY_SCHED_UNPUBLISH&quot;;</span>
<span class="nc" id="L54">		MSG_TYPES[7] = &quot;TO_NOTIFY_EMP_TO_DEF_HOURS_CHANGE&quot;;</span>
<span class="nc" id="L55">		MSG_TYPES[8] = &quot;TO_NOTIFY_TOPOOL_ALLOCATED_HRS_CHANGE&quot;;</span>
<span class="nc" id="L56">		MSG_TYPES[9] = &quot;TO_NOTIFY_AUTO_PROCESS_RULE_CHANGE&quot;;</span>
<span class="nc" id="L57">		MSG_TYPES[10] = &quot;TO_NOTIFY_VALIDATION_RULE_CHANGE&quot;;</span>
<span class="nc" id="L58">		MSG_TYPES[11] = &quot;TO_NOTIFY_FILING_RULE_CHANGE&quot;;</span>
<span class="nc" id="L59">		MSG_TYPES[12] = &quot;TO_NOTIFY_WAITLIST_SETTING_CHANGE&quot;;</span>
<span class="nc" id="L60">		MSG_TYPES[13] = &quot;TO_NOTIFY_TOREQUEST_UPDATE&quot;;</span>
<span class="nc" id="L61">		MSG_TYPES[14] = &quot;TO_NOTIFY_APPROVED_TOREQUEST_WITHDRAW&quot;;</span>
<span class="nc" id="L62">		MSG_TYPES[15] = &quot;TO_NOTIFY_SCHED_PUBLISH_BATCH_COMPLETE&quot;;</span>
<span class="nc" id="L63">		MSG_TYPES[16] = &quot;TO_NOTIFY_SCHED_PUBLISH_BATCH_PART&quot;;</span>
<span class="nc" id="L64">		MSG_TYPES[17] = &quot;TO_NOTIFY_SCHED_PUBLISH_TO_ONLY&quot;;</span>
<span class="nc" id="L65">		MSG_TYPES[18] = &quot;TO_NOTIFY_EMP_TOPOOL_CHANGE&quot;;</span>
<span class="nc" id="L66">		MSG_TYPES[19] = &quot;TO_NOTIFY_ORG_BLACKOUTDAY_CHANGE&quot;;</span>
<span class="nc" id="L67">		MSG_TYPES[20] = &quot;TO_NOTIFY_TOPOOL_FULL_SCAN&quot;;</span>
<span class="nc" id="L68">		MSG_TYPES[21] = &quot;TO_NOTIFY_REF_SCHEDULE_CHANGE&quot;;</span>
	}

<span class="nc" id="L71">	private static int[] waitistNotification = new int[] {</span>
			// not valid anymore due to TOPOOLS but still need it for employee termination
			TO_NOTIFY_EMP_ORG_CHANGE,
			TO_NOTIFY_SCHED_PUBLISH_BATCH_COMPLETE, TO_NOTIFY_SCHED_PUBLISH, TO_NOTIFY_TOPOOL_ALLOCATED_HRS_CHANGE,
			TO_NOTIFY_AUTO_PROCESS_RULE_CHANGE, TO_NOTIFY_VALIDATION_RULE_CHANGE, TO_NOTIFY_FILING_RULE_CHANGE,
			TO_NOTIFY_WAITLIST_SETTING_CHANGE, TO_NOTIFY_APPROVED_TOREQUEST_WITHDRAW, TO_NOTIFY_SCHED_PUBLISH_TO_ONLY,
			TO_NOTIFY_EMP_TOPOOL_CHANGE, TO_NOTIFY_ORG_BLACKOUTDAY_CHANGE, TO_NOTIFY_TOPOOL_FULL_SCAN };

<span class="nc" id="L79">	private static int[] tohoursPerDayNotification = new int[] {</span>
			TO_NOTIFY_SCHED_PUBLISH_BATCH_PART, TO_NOTIFY_ORG_HOO_CHANGE, TO_NOTIFY_EMP_ORG_CHANGE, TO_NOTIFY_EMP_UNAVAIL_CHANGE,
			TO_NOTIFY_HOLIDAY_CHANGE, TO_NOTIFY_SCHED_PUBLISH, TO_NOTIFY_SCHED_UNPUBLISH, TO_NOTIFY_EMP_TO_DEF_HOURS_CHANGE,
			TO_NOTIFY_TOREQUEST_UPDATE, TO_NOTIFY_REF_SCHEDULE_CHANGE };

<span class="nc" id="L84">	private int notificationType = TO_NOTIFY_GENERIC_WAITLIST_MSG;</span>
	private ID orgId;
	private Date startDate;
	private Date endDate;
	private Collection&lt;ID&gt; empIdsCol;
	private ID activityId;
	private Object object; // NOSONAR
	// TOnotification
	private ID pTOPoolID;
<span class="nc" id="L93">	private String msgCreator = null;</span>
	private Date creationDate;
	private String uniqID;
	// by default it sends asynchronous JMS Messages, unless set to true
<span class="nc" id="L97">	private boolean isSynchronous = false;</span>
<span class="nc" id="L98">	private boolean retryDelivery = true;</span>
<span class="nc" id="L99">	private static Boolean lockingEnabled = null;</span>

<span class="nc" id="L101">	private static Object lock = new Object();</span>
<span class="nc" id="L102">	private static Random random = new Random();</span>

<span class="nc" id="L104">	public TONotifyMessage(int notifyType) {</span>
<span class="nc" id="L105">		notificationType = notifyType;</span>
<span class="nc" id="L106">		synchronized (lock) {</span>
<span class="nc" id="L107">			uniqID = notificationType + &quot;-&quot; + random.nextLong() + &quot;-&quot; + Thread.currentThread().getName();</span>
<span class="nc" id="L108">		}</span>
<span class="nc" id="L109">	}</span>

	public TONotifyMessage(ID orgId, Date startDate, Date endDate, int notifyType) {
<span class="nc" id="L112">		this(notifyType);</span>
<span class="nc" id="L113">		this.orgId = orgId;</span>
<span class="nc" id="L114">		this.startDate = startDate;</span>
<span class="nc" id="L115">		this.endDate = endDate;</span>
<span class="nc" id="L116">	}</span>

	public TONotifyMessage(Collection&lt;ID&gt; empIdsCol, Date startDate, Date endDate, int notifyType) {
<span class="nc" id="L119">		this(notifyType);</span>
<span class="nc" id="L120">		this.empIdsCol = empIdsCol;</span>
<span class="nc" id="L121">		this.startDate = startDate;</span>
<span class="nc" id="L122">		this.endDate = endDate;</span>
<span class="nc" id="L123">	}</span>

	public TONotifyMessage(Collection&lt;ID&gt; empIdsCol, ID activityId, int notifyType) {
<span class="nc" id="L126">		this(notifyType);</span>
<span class="nc" id="L127">		this.empIdsCol = empIdsCol;</span>
<span class="nc" id="L128">		this.activityId = activityId;</span>
<span class="nc" id="L129">	}</span>

	public ID getTOPoolId() {
<span class="nc" id="L132">		return pTOPoolID;</span>
	}

	@Override
	public void setTOPoolId(ID pTOPoolId) {
<span class="nc" id="L137">		this.pTOPoolID = pTOPoolId;</span>
<span class="nc" id="L138">	}</span>

	public String getMsgCreator() {
<span class="nc" id="L141">		return msgCreator;</span>
	}

	public void setMsgCreator(String msgCreator) {
<span class="nc" id="L145">		this.msgCreator = msgCreator;</span>
<span class="nc" id="L146">	}</span>

	public Date getCreationDate() {
<span class="nc" id="L149">		return creationDate;</span>
	}

	public void setCreationDate(Date creationDate) {
<span class="nc" id="L153">		this.creationDate = creationDate;</span>
<span class="nc" id="L154">	}</span>

	public boolean isRetryDelivery() {
<span class="nc" id="L157">		return retryDelivery;</span>
	}

	public void setRetryDelivery(boolean retryDelivery) {
<span class="nc" id="L161">		this.retryDelivery = retryDelivery;</span>
<span class="nc" id="L162">	}</span>

	public String getUniqID() {
<span class="nc" id="L165">		return uniqID;</span>
	}

	public void setUniqID(String uniqID) {
<span class="nc" id="L169">		this.uniqID = uniqID;</span>
<span class="nc" id="L170">	}</span>

	public boolean isSynchronous() {
<span class="nc" id="L173">		return isSynchronous;</span>
	}

	public void setIsSynchronous(boolean synchronous) {
<span class="nc" id="L177">		isSynchronous = synchronous;</span>
<span class="nc" id="L178">	}</span>

	@Override
	public String toString() {
<span class="nc" id="L182">		return &quot;TONotifyMessage [&quot; + &quot;\n uniqID\t=&quot; + uniqID + &quot;\n msg creator\t=&quot; + msgCreator + &quot;\n creationDate\t=&quot; + creationDate</span>
				+ &quot;\n notifyType\t=&quot; + notificationType + &quot;, &quot; + MSG_TYPES[notificationType] + &quot;\n isSynchronous\t=&quot; + isSynchronous
				+ &quot;\n pTOPoolID\t=&quot; + pTOPoolID + &quot;\n orgId\t=&quot; + orgId + &quot;\n startDate\t=&quot; + startDate + &quot;\n endDate\t=&quot; + endDate
<span class="nc" id="L185">				+ &quot;\n empIdsCol\t=&quot; + CollectionUtil.dumpCollection(empIdsCol, &quot;,&quot;) + &quot;\n activityId\t=&quot; + activityId</span>
				+ &quot;\n isRetryDelivery\t=&quot; + retryDelivery + &quot;\n object\t=&quot; + object + &quot;]&quot;;
	}

	public ID getActivityId() {
<span class="nc" id="L190">		return activityId;</span>
	}

	public ID getEmployeeId() {
<span class="nc bnc" id="L194" title="All 4 branches missed.">		if (empIdsCol != null &amp;&amp; !empIdsCol.isEmpty()) {</span>
<span class="nc" id="L195">			return empIdsCol.iterator().next();</span>
		} else {
<span class="nc" id="L197">			return null;</span>
		}
	}

	@Override
	public void setEmployeeId(ID empID) {
<span class="nc bnc" id="L203" title="All 2 branches missed.">		if (empIdsCol == null) {</span>
<span class="nc" id="L204">			empIdsCol = new ArrayList&lt;ID&gt;();</span>
		}
<span class="nc" id="L206">		empIdsCol.add(empID);</span>
<span class="nc" id="L207">	}</span>

	public void setActivityId(ID activityId) {
<span class="nc" id="L210">		this.activityId = activityId;</span>
<span class="nc" id="L211">	}</span>

	public int getNotificationType() {
<span class="nc" id="L214">		return notificationType;</span>
	}

	public void setNotificationType(int notificationType) {
<span class="nc" id="L218">		this.notificationType = notificationType;</span>
<span class="nc" id="L219">	}</span>

	// initialized to generic for backward compatibility where message type is not
	// explicitly set by caller
	// All notifications for TOHOURSPERDAY have this flag set to correct value
	public boolean isMessageForWaitlistScan() {
<span class="nc bnc" id="L225" title="All 2 branches missed.">		for (int i = 0; i &lt; waitistNotification.length; i++) {</span>
<span class="nc bnc" id="L226" title="All 2 branches missed.">			if (notificationType == waitistNotification[i]) {</span>
<span class="nc" id="L227">				return true;</span>
			}
		}
<span class="nc" id="L230">		return false;</span>
	}

	public boolean isMessageForTOHoursPerDayUpdate() {
<span class="nc bnc" id="L234" title="All 2 branches missed.">		for (int i = 0; i &lt; tohoursPerDayNotification.length; i++) {</span>
<span class="nc bnc" id="L235" title="All 2 branches missed.">			if (notificationType == tohoursPerDayNotification[i]) {</span>
<span class="nc" id="L236">				return true;</span>
			}
		}
<span class="nc" id="L239">		return false;</span>
	}

	public ID getOrgId() {
<span class="nc" id="L243">		return orgId;</span>
	}

	public void setOrgId(ID orgId) {
<span class="nc" id="L247">		this.orgId = orgId;</span>
<span class="nc" id="L248">	}</span>

	public Date getStartDate() {
<span class="nc" id="L251">		return startDate;</span>
	}

	public void setStartDate(Date startDate) {
<span class="nc" id="L255">		this.startDate = startDate;</span>
<span class="nc" id="L256">	}</span>

	public Date getEndDate() {
<span class="nc" id="L259">		return endDate;</span>
	}

	public void setEndDate(Date endDate) {
<span class="nc" id="L263">		this.endDate = endDate;</span>
<span class="nc" id="L264">	}</span>

	public Collection&lt;ID&gt; getEmployeeIDs() {
<span class="nc" id="L267">		return empIdsCol;</span>
	}

	public void setEmployeeIDs(Collection&lt;ID&gt; empIdsCol) {
<span class="nc" id="L271">		this.empIdsCol = empIdsCol;</span>
<span class="nc" id="L272">	}</span>

	public Object getObject() {
<span class="nc" id="L275">		return object;</span>
	}

	@Override
	public void setObject(Object obj) {
<span class="nc" id="L280">		this.object = obj;</span>
<span class="nc" id="L281">	}</span>

	@Override
	public void sendMessage() throws BbmUpdateException {

		try {
<span class="nc" id="L287">			lockRecords();</span>
<span class="nc" id="L288">			Context ctx = new InitialContext();</span>
<span class="nc" id="L289">			QueueConnectionFactory queueConnectionFactory = (QueueConnectionFactory) ctx.lookup(JNDINames.RM_JMS_QUEUE_FACTORY);</span>
<span class="nc" id="L290">			QueueConnection queueConnection = queueConnectionFactory.createQueueConnection();</span>
<span class="nc" id="L291">			QueueSession queueSession = queueConnection.createQueueSession(false, Session.AUTO_ACKNOWLEDGE);</span>
<span class="nc" id="L292">			Queue queue = (Queue) ctx.lookup(JNDINames.RM_TO_NOTIFICATION_QUEUE);</span>
<span class="nc" id="L293">			QueueSender queueSender = queueSession.createSender(queue);</span>
<span class="nc" id="L294">			queueConnection.start();</span>
<span class="nc" id="L295">			ObjectMessage objectMessage = queueSession.createObjectMessage();</span>
<span class="nc" id="L296">			this.setCreationDate(new Date());</span>
<span class="nc" id="L297">			this.setMsgCreator(Thread.currentThread().getName());</span>
<span class="nc" id="L298">			objectMessage.setObject(this);</span>
<span class="nc" id="L299">			queueSender.send(objectMessage);</span>
<span class="nc" id="L300">			queueSender.close();</span>
<span class="nc" id="L301">			queueSession.close();</span>
<span class="nc" id="L302">			queueConnection.close();</span>
<span class="nc" id="L303">		} catch (Exception e) {</span>
<span class="nc" id="L304">			throw new BbmUpdateException(e);</span>
<span class="nc" id="L305">		}</span>
<span class="nc" id="L306">	}</span>

	private int lockEmployeeIfNeeded() throws Exception { // NOSONAR
<span class="nc bnc" id="L309" title="All 2 branches missed.">		if (isLockingEnabled()) {</span>
<span class="nc" id="L310">			lockEmployees(empIdsCol);</span>
		}
<span class="nc bnc" id="L312" title="All 6 branches missed.">		return (empIdsCol == null || empIdsCol.isEmpty() || empIdsCol.iterator().next() == null) ? 0 : empIdsCol.size();</span>
	}

	private int lockOrganizationIfNeeded() throws Exception { // NOSONAR
<span class="nc bnc" id="L316" title="All 2 branches missed.">		if (isLockingEnabled()) {</span>
<span class="nc" id="L317">			lockOrganizations(Collections.singleton(orgId));</span>
		}
<span class="nc bnc" id="L319" title="All 2 branches missed.">		return orgId != null ? 1 : 0;</span>
	}

	public int lockRecords() throws BbmUpdateException {
		try {
<span class="nc bnc" id="L324" title="All 2 branches missed.">			if (isMessageForTOHoursPerDayUpdate()) {</span>
<span class="nc bnc" id="L325" title="All 3 branches missed.">				switch (notificationType) {</span>
				case TO_NOTIFY_SCHED_PUBLISH_BATCH_COMPLETE:
				case TO_NOTIFY_EMP_ORG_CHANGE:
				case TO_NOTIFY_EMP_UNAVAIL_CHANGE:
				case TO_NOTIFY_EMP_TO_DEF_HOURS_CHANGE:
				case TO_NOTIFY_SCHED_PUBLISH:
				case TO_NOTIFY_SCHED_UNPUBLISH:
				case TO_NOTIFY_SCHED_PUBLISH_BATCH_PART:
				case TO_NOTIFY_REF_SCHEDULE_CHANGE:
<span class="nc" id="L334">					return lockEmployeeIfNeeded();</span>

				case TO_NOTIFY_HOLIDAY_CHANGE:
				case TO_NOTIFY_ORG_HOO_CHANGE:
<span class="nc" id="L338">					return lockOrganizationIfNeeded();</span>

				default:
					// should never come to this block
<span class="nc" id="L342">					throw new BbmUpdateException(&quot;Cannot lock EMPID or ORGID; Unknown notificationType=&quot; + notificationType + &quot;, &quot; + MSG_TYPES[notificationType]);</span>

				}
			}
			// m_cat.debug
<span class="nc" id="L347">		} catch (Exception e) {</span>
<span class="nc" id="L348">			throw new BbmUpdateException(e);</span>
<span class="nc" id="L349">		}</span>
<span class="nc" id="L350">		return -1;</span>
	}


	public void lockEmployees(Collection&lt;ID&gt; empIDs) throws JdmoException {
<span class="nc" id="L355">		excecuteLockCommand(&quot; UPDATE EMPLOYEELASTPUBDATE SET ID = ID  WHERE ID IN &quot;, empIDs);</span>
<span class="nc" id="L356">	}</span>

	public void lockOrganizations(Collection&lt;ID&gt; orgIDs) throws JdmoException {
<span class="nc" id="L359">		excecuteLockCommand(&quot; UPDATE ORGANIZATION SET ID = ID  WHERE ID IN &quot;, orgIDs);</span>
<span class="nc" id="L360">	}</span>

	private void excecuteLockCommand(String lockSql, Collection&lt;ID&gt; ids) throws JdmoException {
<span class="nc" id="L363">		Jdmo jdmo = null;</span>
		try {
<span class="nc" id="L365">			jdmo = new Jdmo();</span>
<span class="nc" id="L366">			jdmo.executeCommand(lockSql + jdmo.createInClause(ids));</span>
		} finally {
<span class="nc bnc" id="L368" title="All 4 branches missed.">			if (jdmo != null) {</span>
<span class="nc" id="L369">				jdmo.cleanUp();</span>
			}
		}
<span class="nc" id="L372">	}</span>

	public boolean isScheduleChangeMessage() {

<span class="nc bnc" id="L376" title="All 2 branches missed.">		switch (notificationType) {</span>
		case TONotifyMessage.TO_NOTIFY_SCHED_PUBLISH_BATCH_PART:
		case TONotifyMessage.TO_NOTIFY_SCHED_PUBLISH:
		case TONotifyMessage.TO_NOTIFY_SCHED_UNPUBLISH:
<span class="nc" id="L380">			return true;</span>
		default:
<span class="nc" id="L382">			return false;</span>
		}

	}

	public boolean isReferenceScheduleChangeMessage() {
<span class="nc bnc" id="L388" title="All 2 branches missed.">		return notificationType == TONotifyMessage.TO_NOTIFY_REF_SCHEDULE_CHANGE;</span>
	}

	public ScheduleChangeDetails getScheduleChangeDetails() {
<span class="nc bnc" id="L392" title="All 2 branches missed.">		return object instanceof ScheduleChangeDetails ? (ScheduleChangeDetails) object : null;</span>
	}

	public boolean isEnableTraceDebugData() throws Exception {
<span class="nc" id="L396">		String configKey = ConfigKey.REQUEST_MANAGEMENT + &quot;traceDebugData/&quot; + MSG_TYPES[getNotificationType()];</span>
<span class="nc" id="L397">		return &quot;true&quot;.equals(BbmManagerFactory.getDBConfigManager().getValue(configKey));</span>
	}

	public static String getNotifyString(int messageTypeIndex) {
<span class="nc" id="L401">		return MSG_TYPES[messageTypeIndex].replaceAll(&quot;TO_NOTIFY_&quot;, &quot;&quot;);</span>
	}

	static boolean isLockingEnabled() throws Exception {
<span class="nc bnc" id="L405" title="All 2 branches missed.">		if (lockingEnabled == null) {</span>
<span class="nc" id="L406">			String configKey = ConfigKey.REQUEST_MANAGEMENT + &quot;ENABLE_DBLOCK_FOR_ASYNC_PROCESSING&quot;;</span>
<span class="nc bnc" id="L407" title="All 4 branches missed.">			lockingEnabled = new Boolean(!Jdmo.isMsSqlDB() || !&quot;false&quot;.equals(BbmManagerFactory.getDBConfigManager().getValue(configKey)));</span>
		}
<span class="nc" id="L409">		return lockingEnabled.booleanValue();</span>
	}
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.5.201505241946</span></div></body></html>