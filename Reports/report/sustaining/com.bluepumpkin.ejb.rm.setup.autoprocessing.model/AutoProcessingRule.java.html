<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>AutoProcessingRule.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">QA Code Coverage</a> &gt; <a href="index.source.html" class="el_package">com.bluepumpkin.ejb.rm.setup.autoprocessing.model</a> &gt; <span class="el_source">AutoProcessingRule.java</span></div><h1>AutoProcessingRule.java</h1><pre class="source lang-java linenums">package com.bluepumpkin.ejb.rm.setup.autoprocessing.model;

import java.util.ArrayList;
import java.util.Collection;
import java.util.Date;
import java.util.Iterator;
import java.util.TimeZone;

import com.bluepumpkin.common.datatypes.ID;
import com.bluepumpkin.common.localization.Localizer;
import com.bluepumpkin.ejb.bbm.vo.FieldInfo;
import com.bluepumpkin.ejb.bbm.vo.ValueObjectBase;
import com.bluepumpkin.ejb.bbm.workresource.model.Organization;
import com.bluepumpkin.ejb.rm.l10n.RmEjbBundleKey;
import com.bluepumpkin.ejb.rm.setup.RuleScope;
import com.bluepumpkin.ejb.rm.requests.custshift.model.CustShiftReq;

/**
 * Also see {@link com.bluepumpkin.ejb.rm.setup.filingrules.model.RequestFilingRule RequestFilingRule}
 * 
 * &lt;p&gt; AutoProcessing rule is defined as follows:
 * &lt;pre&gt;
 * ReqType:  timeoff|ShiftSwap|ShiftBid
 * activityID: only applies for TOReqs.  ID of activity associated with TOReq.
 * DayRange: DAYRANGE_ALL_DAYS | DAYRANGE_DAY_TYPE | DAYRANGE_DATES.
 * DayType: DAYTYPE_HOLIDAY | DAYTYPE_WEEKEND | DAYTYPE_WEEKEEND | DAYTYPE_MONDAY | ...
 * Request sub type: for Custom Shift requests, this will be an integer telling us which shift change types 
 * (OT/Regular, New Shift/Shift Change)are affected by the rule.
 * 
 * Approval Criteria: do not approve any | approve with no violations | approve violating only.
 * Denial Critera: do not deny any | deny with 1 or more violations | deny violating any of the following
 * &lt;/pre&gt;
 * 
 * &lt;p&gt; Example: &lt;pre&gt;
    Time off requests affected by the rule you are creating 
    Time off type:  Unavailable | Vacation
    Applies to: 
     All requests of this type 
     For  Weekend Sunday Monday Tuesday Wednesday Thursday Friday Saturday Working Holiday 
     For -  'startDate' to 'endDate'
     
    Auto-approval and Auto-denial Criteria 
     Approval Criteria  Denial Criteria 
         Do not auto approve any requests.      Do not auto deny any requests. 
         Approve request with no violations.      Deny request with at least one violation 
         Approve requests violating only:      Deny requests violating: 
              Organization has available time off hours.           Organization has available time off hours. 
              Employee has enough time off hours.           Employee has enough time off hours. 
              Request complies with filing rules.           Request complies with filing rules. 
              Request avoids blackout days.           Request avoids blackout days. 
              Request avoids scheduled calendar events.           Request avoids scheduled calendar events. 
              Requested time off is not being swapped.           Requested time off is not being swapped. 
     
 * &lt;/pre&gt;
 *
 * Title:        AutoProcessingRule
 * Description:  Represents an AutoProcessingRule
 * Copyright:    Copyright (c) 2002
 * Company:      Blue Pumpkin Software, Inc.
 * @author       Shailendra Sharma
 * @version 1.0
 */
public class AutoProcessingRule extends ValueObjectBase implements RuleScope {
	public static final String OBJECT_TYPE_AUTOPROCESSINGRULE_SS = &quot;AUTOPROCESSINGRULE_SS&quot;;
	public static final String OBJECT_TYPE_AUTOPROCESSINGRULE_SB = &quot;AUTOPROCESSINGRULE_SB&quot;;
	public static final String OBJECT_TYPE_AUTOPROCESSINGRULE_TOM = &quot;AUTOPROCESSINGRULE_TOM&quot;;
	public static final String OBJECT_TYPE_AUTOPROCESSINGRULE_CS = &quot;AUTOPROCESSINGRULE_CS&quot;;
	public static final String OBJECT_TYPE_AUTOPROCESSINGRULE_FT = &quot;AUTOPROCESSINGRULE_FT&quot;;
	public static final String OBJECT_TYPE_AUTOPROCESSINGRULE_SSW = &quot;AUTOPROCESSINGRULE_SSW&quot;;
	
    /**
     * Do not auto approve any requests.      Do not auto deny any requests. 
     */
	public static final String APPROVAL_DENIAL_TYPE_NO          = &quot;no&quot;;
    /**
     * Approve request with no violations.      Deny request with at least one violation 
     */ 
	public static final String APPROVAL_DENIAL_TYPE_YES         = &quot;yes&quot;;
    /**
     * Approve requests violating only:      Deny requests violating: 
     */
	public static final String APPROVAL_DENIAL_TYPE_VIOLATION   = &quot;violation&quot;;
    
    
    /**
     * Filing rule applies to this org only.
     */
    public static final String SCOPE_THIS_ORG_ONLY = &quot;thisOrgOnly&quot;;
    /**
     * Filing rule applies to this org and its children, and children cannot unapply it.
     */
    public static final String SCOPE_SUB_ORGS_NO_OVERRIDE = &quot;subOrgNoOverride&quot;;
    /**
     * Filing rule applies to this org and its children, and children can unapply it.
     */
    public static final String SCOPE_SUB_ORGS_ALLOW_OVERRIDE = &quot;subOrgAllowOverride&quot;;
    
	//The request subtypes are stored in the integer's bits
<span class="nc" id="L99">	public static final int REQUEST_SUB_TYPE_REG_NEW_SHIFT = CustShiftReq.REQUEST_SUB_TYPE_REG_NEW_SHIFT.toInt();</span>
<span class="nc" id="L100">	public static final int REQUEST_SUB_TYPE_REG_SHIFT_CHANGE = CustShiftReq.REQUEST_SUB_TYPE_REG_SHIFT_CHANGE.toInt();</span>
<span class="nc" id="L101">	public static final int REQUEST_SUB_TYPE_OT_NEW_SHIFT = CustShiftReq.REQUEST_SUB_TYPE_OT_NEW_SHIFT.toInt();</span>
<span class="nc" id="L102">	public static final int REQUEST_SUB_TYPE_OT_SHIFT_CHANGE = CustShiftReq.REQUEST_SUB_TYPE_OT_SHIFT_CHANGE.toInt();</span>

<span class="nc" id="L104">	private static FieldInfo m_fieldInfo = new AutoProcessingRuleFieldInfo();</span>

<span class="nc" id="L106">	private boolean m_IsApplied = false;</span>

    /**
     * m_canChangeApply status indicates if the user can change the applied flag for the rule.
     * Its value is set depending on how the org scope is defined for the rule. 
     */    
<span class="nc" id="L112">    private boolean m_canChangeApply = true;</span>

    /**
     * 
	 * Collection of {@link AutoProcessingValidation AutoProcessingValidation} objects.  
     * 
     * &lt;p&gt; This collection represents the list of validation
     * rules associated with this autoprocessing rule.  This list is selected in the 
     * admin screen when the rule is of type: &quot;Approve requests violating only&quot; or &quot;deny
     * requests violating only&quot;.
     */ 
<span class="nc" id="L123">	private Collection m_APValidationsForThisAutoProcRule = null;</span>


	public AutoProcessingRule() {
<span class="nc" id="L127">		super();</span>
<span class="nc" id="L128">	}</span>

<span class="nc" id="L130">	public FieldInfo getFieldInfo() { return m_fieldInfo; }</span>
<span class="nc" id="L131">	public void setFieldInfo(FieldInfo fieldInfo) { m_fieldInfo = fieldInfo; }</span>

    // getters
	/**
     * ID of organization for which this rule is defined.
     * 
     * @see com.bluepumpkin.ejb.rm.setup.RuleScope#getOrganizationId()
     */
	public ID getOrganizationId() {
<span class="nc" id="L140">		return getFieldValueID(AutoProcessingRuleFieldInfo.AUTOPROCESSINGRULE_I_ORGANIZATIONID);</span>
	}

	public boolean isApplied(){
<span class="nc" id="L144">		return m_IsApplied;</span>
	}

	public boolean getApplied(){
<span class="nc" id="L148">		return m_IsApplied;</span>
	}


	/**
     * -see {@link #m_validatorsForThisAutoProcRule m_validatorsForThisAutoProcRule}
     * 
     * @return
     */
    public Collection getAutoProcessingValidations() {
<span class="nc bnc" id="L158" title="All 2 branches missed.">		if (m_APValidationsForThisAutoProcRule == null) {</span>
<span class="nc" id="L159">			return new ArrayList(0);</span>
		}
<span class="nc" id="L161">		return m_APValidationsForThisAutoProcRule;</span>
	}

	/**
	 * Get only the validators which are the intersection of the selected list of validators for 
     * this auto processing rule (for approval or denial) and the list of enabled
	 * validators for the organization this autoProcessing rule belongs to. 
     * 
     * &lt;p&gt; The admin screen for the auto process rule definition does not limit the list of
	 * validators to the ones that are enabled for the organization.
	 * So this method is necessary to determine the actually validations
	 * to perform.
	 *
	 * @return Collection of validators. A valiator is java class names.
	 */
	public Collection getValidators(Collection enabledOrgValidators, int approvalFlag) {
        
<span class="nc" id="L178">        ArrayList validatorIntersection = new ArrayList(10);</span>
<span class="nc bnc" id="L179" title="All 2 branches missed.">		if (m_APValidationsForThisAutoProcRule == null) {</span>
<span class="nc" id="L180">			return validatorIntersection;</span>
		}
		
<span class="nc bnc" id="L183" title="All 2 branches missed.">		for (Iterator itr = m_APValidationsForThisAutoProcRule.iterator(); itr.hasNext(); ) {</span>
<span class="nc" id="L184">			AutoProcessingValidation apValidation = (AutoProcessingValidation)itr.next();</span>
            
<span class="nc bnc" id="L186" title="All 2 branches missed.">			if (apValidation.getApprovalFlag() != approvalFlag) {</span>
<span class="nc" id="L187">				continue;</span>
			}
<span class="nc" id="L189">			String validatorForThisAPRule = apValidation.getValidator();</span>
<span class="nc bnc" id="L190" title="All 4 branches missed.">			if (enabledOrgValidators == null || enabledOrgValidators.contains(validatorForThisAPRule)) {</span>
<span class="nc" id="L191">				validatorIntersection.add(validatorForThisAPRule);</span>
			}
<span class="nc" id="L193">		}</span>
<span class="nc" id="L194">		return validatorIntersection;</span>
	}

	/**
     * Returns DAYRANGE_ALL_DAYS | DAYRANGE_DAY_TYPE | DAYRANGE_DATES.
     * 
     * @see com.bluepumpkin.ejb.rm.setup.RuleScope#getDayRange()
     */
    public String getDayRange() {
<span class="nc" id="L203">		return getFormattedFieldValue(AutoProcessingRuleFieldInfo.AUTOPROCESSINGRULE_S_DAYRANGE);</span>
	}

	/**
     * The acitivytID this rule applies to.  Presently only APRules for TORequests have a non-null
     * value for this field.
     *  
     * @see com.bluepumpkin.ejb.rm.setup.RuleScope#getActivityId()
     */
    public ID getActivityId() {
<span class="nc" id="L213">		return getFieldValueID(AutoProcessingRuleFieldInfo.AUTOPROCESSINGRULE_I_ACTIVITYID);</span>
	}

	/**
     * The request type this rule applies to
     * 
     * @see com.bluepumpkin.ejb.rm.setup.RuleScope#getRequestType()
     */
    public String getRequestType() {
<span class="nc" id="L222">		return getFormattedFieldValue(</span>
			   AutoProcessingRuleFieldInfo.AUTOPROCESSINGRULE_S_REQUESTTYPE);
	}

	/**
     * Is AutoProcessing approval enabled?  Corresponds to the &quot;Approval Criteria&quot; checkbox in
     * the rule edit page.
     * 
     * @return
     */
    public boolean isApproval() {
<span class="nc" id="L233">		return getFieldValueBoolean(AutoProcessingRuleFieldInfo.AUTOPROCESSINGRULE_B_ISAPPROVAL);</span>
	}
	/**
     * Is AutoProcessing WAITLIST enabled?  Corresponds to the &quot;WAITLIST Criteria&quot; checkbox in
     * the rule edit page.
     *
     * @return
     */
    public boolean isWaitlist() {
<span class="nc" id="L242">		return getFieldValueBoolean(AutoProcessingRuleFieldInfo.AUTOPROCESSINGRULE_B_ISWAITLIST);</span>
	}
	/**
     * Is AutoProcessing denial enabled? Corresponds to the &quot;Denial Criteria&quot; checkbox in
     * the rule edit page.
     * 
     * @return
     */
    public boolean isDenial() {
<span class="nc" id="L251">		return getFieldValueBoolean(AutoProcessingRuleFieldInfo.AUTOPROCESSINGRULE_B_ISDENIAL);</span>
	}

    /**
     * Returns one of: APPROVAL_DENIAL_TYPE_NO, APPROVAL_DENIAL_TYPE_YES, APPROVAL_DENIAL_TYPE_VIOLATION
     * 
     * @return
     */
    public String getApprovalType() {
<span class="nc" id="L260">		return getFormattedFieldValue(AutoProcessingRuleFieldInfo.AUTOPROCESSINGRULE_S_APPROVALTYPE);</span>
	}
	/**
	 * Returns one of: APPROVAL_DENIAL_TYPE_NO, APPROVAL_DENIAL_TYPE_YES, APPROVAL_DENIAL_TYPE_VIOLATION
	 *
	 * @return
	 */
	public String getWaitlistType() {
<span class="nc" id="L268">		return getFormattedFieldValue(AutoProcessingRuleFieldInfo.AUTOPROCESSINGRULE_S_WAITLISTTYPE);</span>
	}

	/**
     * Returns one of: APPROVAL_DENIAL_TYPE_NO, APPROVAL_DENIAL_TYPE_YES, APPROVAL_DENIAL_TYPE_VIOLATION
     * 
     * @return
     */
    public String getDenialType() {
<span class="nc" id="L277">		return getFormattedFieldValue(AutoProcessingRuleFieldInfo.AUTOPROCESSINGRULE_S_DENIALTYPE);</span>
	}

	/**
     * Returns one of DAYTYPE_XXXX constants defined in this class.
     * 
     * @see com.bluepumpkin.ejb.rm.setup.RuleScope#getDayType()
     */
    public String getDayType() {
<span class="nc" id="L286">		return getFormattedFieldValue(AutoProcessingRuleFieldInfo.AUTOPROCESSINGRULE_S_DAYTYPE);</span>
	}

	/** 
     * Returns the start date if getDayRange() == DAYRANGE_DATES.
     *  
     * @see com.bluepumpkin.ejb.rm.setup.RuleScope#getStartDate()
     */
    public Date getStartDate() {
<span class="nc" id="L295">		return getFieldValueDate(AutoProcessingRuleFieldInfo.AUTOPROCESSINGRULE_D_STARTDATE);</span>
	}

	/**
     * Returns the end date if getDayRange() == DAYRANGE_DATES.
     * 
     * @see com.bluepumpkin.ejb.rm.setup.RuleScope#getEndDate()
     */
    public Date getEndDate() {
<span class="nc" id="L304">		return getFieldValueDate(AutoProcessingRuleFieldInfo.AUTOPROCESSINGRULE_D_ENDDATE);</span>
	}

	// setters
	public void setOrganizationId(ID pId) {
<span class="nc" id="L309">		setFieldValue(AutoProcessingRuleFieldInfo.AUTOPROCESSINGRULE_I_ORGANIZATIONID, pId);</span>
<span class="nc" id="L310">	}</span>

	public void  setApplied(boolean pIsApplied){
<span class="nc" id="L313">		m_IsApplied = pIsApplied;</span>
<span class="nc" id="L314">	}</span>

	public void setAutoProcessingValidations(Collection pAutoProcessingValidations) {
<span class="nc" id="L317">		m_APValidationsForThisAutoProcRule = pAutoProcessingValidations;</span>
<span class="nc" id="L318">	}</span>

	public void setDayRange(String pDayRange) {
<span class="nc" id="L321">		setFieldValue(AutoProcessingRuleFieldInfo.AUTOPROCESSINGRULE_S_DAYRANGE, pDayRange);</span>
<span class="nc" id="L322">	}</span>

	public void setActivityId(ID pId) {
<span class="nc" id="L325">		setFieldValue(AutoProcessingRuleFieldInfo.AUTOPROCESSINGRULE_I_ACTIVITYID, pId);</span>
<span class="nc" id="L326">	}</span>

	public void setRequestType(String pRequestType) {
<span class="nc" id="L329">		setFieldValue(AutoProcessingRuleFieldInfo.AUTOPROCESSINGRULE_S_REQUESTTYPE, pRequestType);</span>
<span class="nc" id="L330">	}</span>

	public void setApproval(boolean bIsApproval) {
<span class="nc" id="L333">		setFieldValue(AutoProcessingRuleFieldInfo.AUTOPROCESSINGRULE_B_ISAPPROVAL, bIsApproval);</span>
<span class="nc" id="L334">	}</span>
 	public void setWaitlist(boolean bIsWaitlist) {
<span class="nc" id="L336">		setFieldValue(AutoProcessingRuleFieldInfo.AUTOPROCESSINGRULE_B_ISWAITLIST, bIsWaitlist);</span>
<span class="nc" id="L337">	}</span>
	public void setDenial(boolean bIsDenial) {
<span class="nc" id="L339">		setFieldValue(AutoProcessingRuleFieldInfo.AUTOPROCESSINGRULE_B_ISDENIAL, bIsDenial);</span>
<span class="nc" id="L340">	}</span>

	public void setApprovalType(String approvalType) {
<span class="nc" id="L343">		setFieldValue(AutoProcessingRuleFieldInfo.AUTOPROCESSINGRULE_S_APPROVALTYPE, approvalType);</span>
<span class="nc" id="L344">	}</span>
	public void setWaitlistType(String waitlistType) {
<span class="nc" id="L346">		setFieldValue(AutoProcessingRuleFieldInfo.AUTOPROCESSINGRULE_S_WAITLISTTYPE, waitlistType);</span>
<span class="nc" id="L347">	}</span>
	public void setDenialType(String denialType) {
<span class="nc" id="L349">		setFieldValue(AutoProcessingRuleFieldInfo.AUTOPROCESSINGRULE_S_DENIALTYPE, denialType);</span>
<span class="nc" id="L350">	}</span>

	public void setDayType(String dayType) {
<span class="nc" id="L353">		setFieldValue(AutoProcessingRuleFieldInfo.AUTOPROCESSINGRULE_S_DAYTYPE, dayType);</span>
<span class="nc" id="L354">	}</span>

	public void setStartDate(Date startDate) {
<span class="nc" id="L357">		setFieldValue(AutoProcessingRuleFieldInfo.AUTOPROCESSINGRULE_D_STARTDATE, startDate);</span>
<span class="nc" id="L358">	}</span>

	public void setEndDate(Date endDate) {
<span class="nc" id="L361">		setFieldValue(AutoProcessingRuleFieldInfo.AUTOPROCESSINGRULE_D_ENDDATE, endDate);</span>
<span class="nc" id="L362">	}</span>

    public String getSentence(Localizer localizer, Organization org) {
        /*
        Time off type  jhgf Unavailable Vacation 
         All requests of this type 
         For  Weekend Sunday Monday Tuesday Wednesday Thursday Friday Saturday Working Holiday 
         For &lt;fromdate&gt; - &lt;todate&gt;  
 
        Auto-approval and Auto-denial Criteria 
         Approval Criteria                        Denial Criteria 
             Do not auto approve any requests.      Do not auto deny any requests. 
             Approve request with no violations.      Deny request with at least one violation 
             Approve requests violating only:      Deny requests violating: 
                  Organization has available time off hours.           Organization has available time off hours. 
                  Employee has enough time off hours.           Employee has enough time off hours. 
                  Request complies with filing rules.           Request complies with filing rules. 
                  Request avoids blackout days.           Request avoids blackout days. 
                  Request avoids scheduled calendar events.           Request avoids scheduled calendar events. 
                  Requested time off is not being swapped.           Requested time off is not being swapped. 
 
        */
 
<span class="nc" id="L385"> 		String sentence = localizer.i18n(RmEjbBundleKey.BUNDLE_NAME, RmEjbBundleKey.AP_RULE_SENTENCE, </span>
<span class="nc" id="L386"> 			new Object[] { org.getName(), getRequestType(), getDayRangeFormatted(localizer, org)});</span>
 			
<span class="nc" id="L388"> 		return sentence; </span>
    }

    /**
     * @return
     */
    private String getDayRangeFormatted(Localizer localizer, Organization org) {

        // RmEjbBundleKey.UNLOCALIZED_MESSAGE
<span class="nc" id="L397">        String dayRangeType = getDayRange();</span>
<span class="nc bnc" id="L398" title="All 2 branches missed.">        if (dayRangeType.equals(DAYRANGE_ALL_DAYS)) {</span>
<span class="nc" id="L399">            return localizer.i18n(RmEjbBundleKey.BUNDLE_NAME, RmEjbBundleKey.RS_ANY_DAY); </span>
<span class="nc bnc" id="L400" title="All 2 branches missed.">        } else if (dayRangeType.equals(DAYRANGE_DATES)) {</span>
<span class="nc" id="L401">            TimeZone orgTZ = org.getTimeZone();</span>
            
<span class="nc" id="L403">            return localizer.formatDateTime(getStartDate(), orgTZ) + </span>
<span class="nc" id="L404">            	localizer.i18n(RmEjbBundleKey.BUNDLE_NAME, RmEjbBundleKey.PHRASE_TO) + </span>
<span class="nc" id="L405">            	localizer.formatDateTime(getEndDate(), orgTZ);</span>
<span class="nc bnc" id="L406" title="All 2 branches missed.">        } else if (dayRangeType.equals(DAYRANGE_DAY_TYPE)) {</span>
<span class="nc" id="L407">            return localizer.i18n(RmEjbBundleKey.BUNDLE_NAME, getDayType());</span>
        } else {
<span class="nc" id="L409">			throw new IllegalArgumentException(getID().toString() + ',' + getDayRange());</span>
       }
    }
    
    /**
     * Return the organization scope for this rule.
     * @return one of: SCOPE_THIS_ORG_ONLY, SCOPE_SUB_ORGS_NO_OVERRIDE, SCOPE_SUB_ORGS_ALLOW_OVERRIDE.
     */
    public String getOrgScope() {
<span class="nc" id="L418">        return getFormattedFieldValue(AutoProcessingRuleFieldInfo.AUTOPROCESSINGRULE_S_ORGSCOPE);</span>
    }
    /**
     * Set the organization scope for this rule.
     * @param orgScope - Must be one of: SCOPE_THIS_ORG_ONLY, SCOPE_SUB_ORGS_NO_OVERRIDE, SCOPE_SUB_ORGS_ALLOW_OVERRIDE.
     */
    public void setOrgScope(String orgScope) {
<span class="nc" id="L425">        setFieldValue(AutoProcessingRuleFieldInfo.AUTOPROCESSINGRULE_S_ORGSCOPE, orgScope);</span>
<span class="nc" id="L426">    }</span>
    
    /**
     * Sets the boolean value indicating if the user can change the applied flag for this rule.
     */
    public void setCanChangeApply(boolean pCanChangeApply) {
<span class="nc" id="L432">        m_canChangeApply = pCanChangeApply;</span>
<span class="nc" id="L433">    }</span>
    
    /**
     * Returns the boolean value indicating if the user can change the applied flag for this rule.
     */
    public boolean getCanChangeApply() {
<span class="nc" id="L439">        return m_canChangeApply;</span>
    }

    /**
     * Returns the boolean value indicating if the user can change the applied flag for this rule.
     */
    public boolean isCanChangeApply() {
<span class="nc" id="L446">        return m_canChangeApply;</span>
    }
    
    /**
     * Get the request sub type. Currently, it is only used by the Custom Shift request type.
     * @return the request sub type. This is an integer whose bits give information which may
     * vary by request type.
     */
	public int getRequestSubType() {
<span class="nc" id="L455">		return getFieldValueInt(AutoProcessingRuleFieldInfo.AUTOPROCESSINGRULE_N_REQUESTSUBTYPE);</span>
	}
	
    /**
     * Set the request sub type. Currently, it is only used by the Custom Shift request type.
     * @param requestSubType - the request sub type. This is an integer whose bits give information which may
     * vary by request type.
     */
	public void setRequestSubType(int requestSubType) {
<span class="nc" id="L464">		setFieldValue(AutoProcessingRuleFieldInfo.AUTOPROCESSINGRULE_N_REQUESTSUBTYPE, requestSubType);</span>
<span class="nc" id="L465">	}</span>
	
	/**
	 * Returns true of this filing rule includes the &quot;Regular New Shift&quot; custom shift request sub-type. 
	 */
	public boolean getRequestSubTypeRegNewShift()
	{
<span class="nc bnc" id="L472" title="All 2 branches missed.">		return (getRequestSubType() &amp; REQUEST_SUB_TYPE_REG_NEW_SHIFT) == REQUEST_SUB_TYPE_REG_NEW_SHIFT;</span>
	}    
	/**
	 * Returns true of this filing rule includes the &quot;Regular Shift Change&quot; custom shift request sub-type. 
	 */
	public boolean getRequestSubTypeRegShiftChange()
	{
<span class="nc bnc" id="L479" title="All 2 branches missed.">		return (getRequestSubType() &amp; REQUEST_SUB_TYPE_REG_SHIFT_CHANGE) == REQUEST_SUB_TYPE_REG_SHIFT_CHANGE;</span>
	}    
	/**
	 * Returns true of this filing rule includes the &quot;OT New Shift&quot; custom shift request sub-type. 
	 */
	public boolean getRequestSubTypeOTNewShift()
	{
<span class="nc bnc" id="L486" title="All 2 branches missed.">		return (getRequestSubType() &amp; REQUEST_SUB_TYPE_OT_NEW_SHIFT) == REQUEST_SUB_TYPE_OT_NEW_SHIFT;</span>
	}    
	/**
	 * Returns true of this filing rule includes the &quot;OT Shift Change&quot; custom shift request sub-type. 
	 */
	public boolean getRequestSubTypeOTShiftChange()
	{
<span class="nc bnc" id="L493" title="All 2 branches missed.">		return (getRequestSubType() &amp; REQUEST_SUB_TYPE_OT_SHIFT_CHANGE) == REQUEST_SUB_TYPE_OT_SHIFT_CHANGE;</span>
	}
    
	/**
	 * Sets whether this filing rule includes the &quot;Regular New Shift&quot; custom shift request sub-type. 
	 */
	public void setRequestSubTypeRegNewShift(boolean isSet)
	{
<span class="nc" id="L501">		setRequestSubType(getRequestSubType() | REQUEST_SUB_TYPE_REG_NEW_SHIFT);</span>
<span class="nc" id="L502">	}</span>
	/**
	 * Sets whether this filing rule includes the &quot;Regular Shift Change&quot; custom shift request sub-type. 
	 */
	public void setRequestSubTypeRegShiftChange(boolean isSet)
	{
<span class="nc" id="L508">		setRequestSubType(getRequestSubType() | REQUEST_SUB_TYPE_REG_SHIFT_CHANGE);</span>
<span class="nc" id="L509">	}</span>
	/**
	 * Sets whether this filing rule includes the &quot;OT New Shift&quot; custom shift request sub-type. 
	 */
	public void setRequestSubTypeOTNewShift(boolean isSet)
	{
<span class="nc" id="L515">		setRequestSubType(getRequestSubType() | REQUEST_SUB_TYPE_OT_NEW_SHIFT);</span>
<span class="nc" id="L516">	}</span>
	/**
	 * Sets whether this filing rule includes the &quot;OT Shift Change&quot; custom shift request sub-type. 
	 */
	public void setRequestSubTypeOTShiftChange(boolean isSet)
	{
<span class="nc" id="L522">		setRequestSubType(getRequestSubType() | REQUEST_SUB_TYPE_OT_SHIFT_CHANGE);</span>
<span class="nc" id="L523">	}</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.5.201505241946</span></div></body></html>