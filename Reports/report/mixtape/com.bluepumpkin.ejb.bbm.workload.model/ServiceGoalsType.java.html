<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>ServiceGoalsType.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">QA Code Coverage</a> &gt; <a href="index.source.html" class="el_package">com.bluepumpkin.ejb.bbm.workload.model</a> &gt; <span class="el_source">ServiceGoalsType.java</span></div><h1>ServiceGoalsType.java</h1><pre class="source lang-java linenums">package com.bluepumpkin.ejb.bbm.workload.model;

import com.bluepumpkin.ejb.bbm.campaign.model.SPQueue;
import com.bluepumpkin.ejb.bbm.timeseries.model.Trace;

<span class="pc" id="L6">public enum ServiceGoalsType {</span>
<span class="fc" id="L7">	SERVICE_LEVEL,</span>
<span class="fc" id="L8">	ASA,</span>
<span class="fc" id="L9">	DEADLINE,</span>
<span class="fc" id="L10">	CONNECTS,</span>
<span class="fc" id="L11">	RIGHT_PARTY_CONNECTS,</span>
<span class="fc" id="L12">	NONE;</span>
	
	/**
	 * Returns the Service Goals type for the given media and spqueue.
	 */
	public static ServiceGoalsType get(MediaType mediaType, SPQueue spQueue) {
<span class="pc bpc" id="L18" title="1 of 4 branches missed.">		switch (mediaType) {</span>
		case IMMEDIATE:
<span class="fc" id="L20">			return get(mediaType, spQueue.getServiceLevelGoalType());		</span>
		case DEFERRED:
<span class="fc" id="L22">			return get(mediaType, spQueue.getServiceLevelGoalType());					</span>
		case OUTBOUND:
			//The service goal type for outbound media is based on the ACTUALORWORKINGHOUR flag on the spqueue.
<span class="fc" id="L25">			return get(mediaType, spQueue.getActualOrWorkingHour());	</span>
		default:
<span class="pc" id="L27">			return get(mediaType, spQueue.getServiceLevelGoalType());</span>
		}
	}
	
	/**
	 * Returns the service goals type for the given media type and boolean flag.
	 * This boolean value can be different flags on an spqueue, depending on the media type,
	 * which is why most of the time you should use the public get(MediaType, SPQueue) method.
	 */
	private static ServiceGoalsType get(MediaType mediaType, boolean value) {
<span class="pc bpc" id="L37" title="1 of 4 branches missed.">		switch (mediaType) {</span>
			case IMMEDIATE:
<span class="pc bpc" id="L39" title="1 of 2 branches missed.">				if (!value) {</span>
<span class="fc" id="L40">					return ServiceGoalsType.SERVICE_LEVEL;</span>
				} else {
<span class="nc" id="L42">					return ServiceGoalsType.ASA;</span>
				}				
			case DEFERRED:
<span class="pc bpc" id="L45" title="1 of 2 branches missed.">				if (!value) {</span>
<span class="fc" id="L46">					return ServiceGoalsType.SERVICE_LEVEL;</span>
				} else {
<span class="nc" id="L48">					return ServiceGoalsType.DEADLINE;</span>
				}				
			case OUTBOUND:
<span class="pc bpc" id="L51" title="1 of 2 branches missed.">				if (!value) {</span>
<span class="fc" id="L52">					return ServiceGoalsType.CONNECTS;</span>
				} else {
<span class="nc" id="L54">					return ServiceGoalsType.RIGHT_PARTY_CONNECTS;</span>
				}	
<span class="nc" id="L56">			default: return ServiceGoalsType.NONE;</span>
		}
	}
	
	/**
	 * This value corresponds to the SERVICELEVELGOALTYPE field in the SPQUEUE table and changes when the
	 * service goal type is changed (except for Outbound media, which uses the ACTUALORWORKINGHOUR boolean field).
	 * This field is a boolean value, which essentially means a media type can have at most two service goal types.
	 */
	public boolean value() {
<span class="pc bnc" id="L66" title="All 7 branches missed.">		switch(this) {</span>
<span class="nc" id="L67">        case SERVICE_LEVEL: return false;</span>
<span class="nc" id="L68">        case DEADLINE: return true;</span>
<span class="nc" id="L69">        case ASA: return true;</span>
<span class="nc" id="L70">        case CONNECTS: return false;</span>
<span class="nc" id="L71">        case RIGHT_PARTY_CONNECTS: return true;</span>
<span class="nc" id="L72">        case NONE: return false;</span>
<span class="nc" id="L73">        default: return false;</span>
      }
	}
	/**
	 * This method returns the list of Trace's suported based on the ServiceGoals type chosen and the Media type.
	 * To make use of this method 
	 * 1. Get the ServiceGoalsType using the static get method listed above
	 * 2. Call the getTraceTypesSupported() on the instance thus obtained
	 * Only for the ServiceGoalsType.SERVICE_LEVEL the Trace can be either Trace.SERVICE_GOALS_PCA_IMMEDIATE or Trace.SERVICE_GOALS_PCA_DEFERRED
	 * i.e the end TraceCube can have either one of them.  
	 * @return would return an array of Trace that are present in the end ServiceGoals TraceCube.
	 */
	
	public short[] getTraceTypesSupported() {
		
<span class="nc bnc" id="L88" title="All 7 branches missed.">		switch(this) {</span>
<span class="nc" id="L89">        case SERVICE_LEVEL: return new short[]{Trace.SERVICE_GOALS_PCA_IMMEDIATE, Trace.SERVICE_GOALS_PCA_DEFERRED};</span>
<span class="nc" id="L90">        case DEADLINE:  return new short[]{Trace.SERVICE_GOALS_DEADLINE_TIME};</span>
<span class="nc" id="L91">        case ASA:  return new short[]{Trace.SERVICE_GOALS_ASA};</span>
<span class="nc" id="L92">        case CONNECTS: return new short[]{Trace.CONNECTS};</span>
<span class="nc" id="L93">        case RIGHT_PARTY_CONNECTS: return new short[]{Trace.RPC};</span>
<span class="nc" id="L94">        case NONE: return new short[]{};</span>
<span class="nc" id="L95">        default: return new short[]{};</span>
      }
	}
	
	/**
	 * Only ServiceGoalsType.DEADLINE,ServiceGoalsType.ASA  are time based properties for Deferred &amp; Immediate media respectively 
	 * @return boolean value based on the Time conversion requirements of the Trace
	 */
	public boolean isTimeConversionRequired() {
<span class="nc bnc" id="L104" title="All 7 branches missed.">		switch(this) {</span>
<span class="nc" id="L105">        case SERVICE_LEVEL: return false;</span>
<span class="nc" id="L106">        case DEADLINE: return true;</span>
<span class="nc" id="L107">        case ASA: return true;</span>
<span class="nc" id="L108">        case CONNECTS: return false;</span>
<span class="nc" id="L109">        case RIGHT_PARTY_CONNECTS: return false;</span>
<span class="nc" id="L110">        case NONE: return false;</span>
<span class="nc" id="L111">        default: return false;</span>
      }
	}
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.5.201505241946</span></div></body></html>