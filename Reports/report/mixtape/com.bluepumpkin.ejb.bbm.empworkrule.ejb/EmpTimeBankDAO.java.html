<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>EmpTimeBankDAO.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">QA Code Coverage</a> &gt; <a href="index.source.html" class="el_package">com.bluepumpkin.ejb.bbm.empworkrule.ejb</a> &gt; <span class="el_source">EmpTimeBankDAO.java</span></div><h1>EmpTimeBankDAO.java</h1><pre class="source lang-java linenums">package com.bluepumpkin.ejb.bbm.empworkrule.ejb;

/**
 * Title:        Blue Pumpkin Software Basic Business Model
 * Description:  dao object to serialize EmpTimeBank object
 * Copyright:    Copyright (c) 2001
 * Company:      Blue Pumpkin Software, Inc
 * @author       lixin zhang
 * @version      1.0
 */

import java.util.Collection;
import java.util.Date;
import java.util.HashMap;

import com.bluepumpkin.common.datatypes.ID;
import com.bluepumpkin.common.jdmo.Jdmo;
import com.bluepumpkin.ejb.bbm.base.BbmCreateException;
import com.bluepumpkin.ejb.bbm.base.BbmFinderException;
import com.bluepumpkin.ejb.bbm.base.BbmRemoveException;
import com.bluepumpkin.ejb.bbm.base.BbmUpdateException;
import com.bluepumpkin.ejb.bbm.dao.DAOEffectivity;
import com.bluepumpkin.ejb.bbm.empworkrule.model.EmpTimeBank;
import com.bluepumpkin.ejb.bbm.empworkrule.model.EmpTimeBankFieldInfo;
import com.bluepumpkin.ejb.bbm.vo.FieldInfo;
import com.bluepumpkin.ejb.bbm.vo.ValueObjectBase;
import com.bluepumpkin.ejb.core.base.MultiUserException;

public class EmpTimeBankDAO extends DAOEffectivity {

<span class="fc" id="L31">    private static FieldInfo m_fieldInfo = new EmpTimeBankFieldInfo();</span>
<span class="fc" id="L32">    protected FieldInfo getFieldInfo() { return m_fieldInfo; }</span>

    public EmpTimeBankDAO() {
<span class="fc" id="L35">         super();</span>
<span class="fc" id="L36">    }</span>

    public EmpTimeBankDAO(Jdmo dmo) {
<span class="nc" id="L39">         super(dmo);</span>
<span class="nc" id="L40">    }</span>

    protected ValueObjectBase createValueObject()
    {
<span class="nc" id="L44">        return (new EmpTimeBank());</span>
    } 
    
   /**
     *   get a given employee's timebank assignments
     *   
     *   @idEmployee employee id
     *   @dtStart, @dtEnd: the time period, null date means a open period
     *   
     *   @return a collection of EmpTimeBank objects which hold the assignment information
     */
    public Collection getTimeBankAssignments(ID idEmployee, Date dtStart, Date dtEnd) throws BbmFinderException
    {
<span class="nc" id="L57">        return super.getEffectivityAssignments(idEmployee, </span>
          EmpTimeBankFieldInfo.EMPTIMEBANK_EMPLOYEEID, dtStart, dtEnd);     
    }    
        
    /**
     *   get a collection of employee's time bank assignments
     *   
     *   @colEmployeeIDs  a collection of employee ids
     *   @dtStart, @dtEnd: the time period, null date means a open period
     *   
     *   @return a HashMap of following pairs 
     *            (idEmployee, array list of employee's time bank assignments)
     */
    public HashMap getTimeBankAssignments(Collection colEmployeeIDs, Date dtStart, Date dtEnd) throws BbmFinderException
    {
<span class="fc" id="L72">        return super.getEffectivityAssignments(colEmployeeIDs, </span>
        		EmpTimeBankFieldInfo.EMPTIMEBANK_EMPLOYEEID, dtStart, dtEnd);
    }    
    
    /** create a time bank assignment */
    public ID createTimeBankAssignment(EmpTimeBank objValue) throws BbmCreateException
    {
<span class="nc" id="L79">        return super.createNoOverlapAssignment(objValue, </span>
              EmpTimeBankFieldInfo.EMPTIMEBANK_EMPLOYEEID, 
              EmpTimeBankFieldInfo.EMPTIMEBANK_TIMEBANKID);
    }    
    	
	/**
	 * Creates a time bank assignment, but prior to creation will remove any existing time banks that overlap with
	 * the given time bank for the given employee.
	 */
    public ID createTimeBankAssignmentWithNoOverlap(EmpTimeBank objValue) throws BbmCreateException
    {
<span class="nc" id="L90">        return super.createNoOverlapAssignment(objValue, EmpTimeBankFieldInfo.EMPTIMEBANK_EMPLOYEEID, -1); 	</span>
    }
    
    /** 
     *  update a time bank assignment
     *  @param bSaveAsNew where save as new assignment or replace existing one
     * 
     */
    public void updateTimeBankAssignment(EmpTimeBank objValue, boolean bSaveAsNew) throws MultiUserException, BbmUpdateException
    {
<span class="nc" id="L100">        super.updateNoOverlapAssignment(objValue, </span>
        		EmpTimeBankFieldInfo.EMPTIMEBANK_EMPLOYEEID, 
        		EmpTimeBankFieldInfo.EMPTIMEBANK_TIMEBANKID, 
              bSaveAsNew);
<span class="nc" id="L104">    }</span>
   
    /** delete time bank assignments */
    public void deleteTimeBankAssignments(Collection colIDAssignments) throws BbmRemoveException
    {
<span class="nc" id="L109">         deleteObjects(colIDAssignments);</span>
<span class="nc" id="L110">    }	</span>
    
    public Collection getTimeBankAssignmentsByIDs(Collection colIDSAs) throws BbmFinderException
    {
<span class="nc" id="L114">        return this.getObjectsByIDs(colIDSAs);</span>
    }
    
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.5.201505241946</span></div></body></html>